<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Centos7ä¸‹å®‰è£…dockerå’Œdocker-compose</title>
    <url>/2023/11/15/b7caeb428844.html</url>
    <content><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><ul>
<li>Docker<blockquote>
<p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„é•œåƒä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linuxæˆ–Windowsæ“ä½œç³»ç»Ÿçš„æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚</p>
</blockquote>
</li>
<li>Docker-compose<blockquote>
<p>Docker-compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚</p>
</blockquote>
</li>
</ul>
<p><a href="https://www.runoob.com/w3cnote/yaml-intro.html"> <strong>å¦‚æœä¸äº†è§£ <code>YML</code></strong> è¯·ç‚¹å‡»è¿™é‡Œ </a></p>
<p>ä¸Šé¢ç®€å•ä»‹ç»äº†ä¸€ä¸‹ç›¸å…³å†…å®¹ï¼Œä¸‹é¢æˆ‘ä»¬ç€æ‰‹å¼€å§‹å®‰è£…Dockerä¸Docker-compose</p>
<h3 id="å‡†å¤‡ç¯å¢ƒ"><a href="#å‡†å¤‡ç¯å¢ƒ" class="headerlink" title="å‡†å¤‡ç¯å¢ƒ"></a>å‡†å¤‡ç¯å¢ƒ</h3><ul>
<li>Centos 7</li>
<li>Xshell</li>
<li>rootç”¨æˆ·</li>
</ul>
<h3 id="å®‰è£…å‘½ä»¤"><a href="#å®‰è£…å‘½ä»¤" class="headerlink" title="å®‰è£…å‘½ä»¤"></a>å®‰è£…å‘½ä»¤</h3><p>1.æ›´æ–°ç³»ç»Ÿç»„ä»¶</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">yum update -y</span><br></pre></td></tr></table></figure></div>
<p>2.å®‰è£…wgetåŠcurl</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">yum install -y wget curl</span><br></pre></td></tr></table></figure></div>
<p>3.æ‹‰å–Dockerå®‰è£…è„šæœ¬</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">wget -qO- get.docker.com | bash</span><br></pre></td></tr></table></figure></div>
<p>4.ä¸‹è½½Docker-composeäºŒè¿›åˆ¶æ–‡ä»¶</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure></div>
<p>5.å¯åŠ¨DockeråŠè®¾ç½®å¼€æœºè‡ªå¯</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">systemctl start docker #å¯åŠ¨docker</span><br><span class="line">systemctl enable docker #è®¾ç½®å¼€æœºè‡ªå¯</span><br></pre></td></tr></table></figure></div>
<p>6.èµ‹äºˆDocker-composeå¯æ‰§è¡Œæƒé™</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure></div>

<p>7.æŸ¥çœ‹dockeråŠdocker-composeç‰ˆæœ¬ä¿¡æ¯</p>
<div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">docker --version</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure></div>
<h3 id="å®‰è£…æˆåŠŸ"><a href="#å®‰è£…æˆåŠŸ" class="headerlink" title="å®‰è£…æˆåŠŸ"></a>å®‰è£…æˆåŠŸ</h3><blockquote>
<p>çœ‹åˆ°ä¸‹å›¾åˆ™è¯´æ˜å·²ç»å®‰è£…æˆåŠŸ</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/2069457946.png"
                      alt="2023-11-14T16:19:39.png"
                ></p>
]]></content>
  </entry>
  <entry>
    <title>Quantumult Xä¸‹JSç­¾åˆ°è„šæœ¬å¼€å‘å…¨è¿‡ç¨‹</title>
    <url>/2024/03/20/c471c461c92a.html</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¿‘æœŸåˆšå¼€å§‹å­¦ä¹ JavaScriptï¼Œæ°å·§çœ‹åˆ° é’é¾™é¢æ¿&amp;åœˆX(Quantumult X)å®šæ—¶ä»»åŠ¡çš„è„šæœ¬ä¹Ÿæ˜¯ç”¨JSç¼–å†™ï¼Œæ‰€å¹¸æ‰¾äº†ä¸€ä¸ªç®€å•çš„ç­¾åˆ°æ¡ˆä¾‹åˆ†æä¸€ä¸‹ï¼Œé¡ºä¾¿æ£€éªŒä¸€ä¸‹è‡ªå·±çš„è¿‘æœŸJSå­¦ä¹ æˆæœã€‚</p>
<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><blockquote>
<p>ä»¥ä¸‹å†…å®¹ä¸­ä¸å«æœ‰ä»»ä½•éæ³•ä¿®æ”¹æœåŠ¡å™¨æ•°æ®çš„è¡Œä¸ºï¼Œä»…ä»…æ˜¯æœ¬åœ°ç”¨JSä»£ç æ¨¡æ‹Ÿäººç±»ç‚¹å‡»çš„æ•ˆæœå®Œæˆç›¸å…³åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 id="1-æ€è·¯åˆ†æ"><a href="#1-æ€è·¯åˆ†æ" class="headerlink" title="1.æ€è·¯åˆ†æ"></a>1.æ€è·¯åˆ†æ</h3><p>åœ¨æˆ‘ä¸ªäººç†è§£æ¥çœ‹ï¼Œæ‰€è°“çš„â€œæ¯æ—¥ç­¾åˆ°â€åŠŸèƒ½ï¼Œå°±æ˜¯å½“äººç‚¹å‡»æŸä¸ªæŒ‰é’®åè§¦å‘äº†ä¸€ä¸ªäº‹ä»¶ï¼Œè€Œè¿™ä¸ªäº‹ä»¶å‘èµ·ä¸€ä¸ªå¯¹è¿œç«¯æœåŠ¡å™¨çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨è®°å½•ä¸‹è¿™ä¸ªè¯·æ±‚çš„æ—¶é—´åŠç›¸å…³å‚æ•°ï¼Œä»¥æ­¤æ¥åˆ¤å®šå½“å‰ç”¨æˆ·ä»Šæ—¥æ˜¯å¦å·²ç»ç­¾åˆ°ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images//623038066.png"
                      alt="å¾®ä¿¡æˆªå›¾_20240320135823.png"
                ></p>
<h3 id="2-å¼€å§‹å®æ–½"><a href="#2-å¼€å§‹å®æ–½" class="headerlink" title="2.å¼€å§‹å®æ–½"></a>2.å¼€å§‹å®æ–½</h3><blockquote>
<p>æœ‰äº†ä»¥ä¸Šçš„æ€è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æŠ“åŒ…è½¯ä»¶ï¼Œåœ¨ç‚¹å‡»ç­¾åˆ°çš„åŒæ—¶æŠ“å–å‘èµ·è¯·æ±‚çš„è¿æ¥ï¼Œåˆ†æHTTPè¿æ¥æ‰€æºå¸¦çš„å‚æ•°ã€‚</p>
</blockquote>
<h4 id="2-1-ç§»åŠ¨ç«¯æŠ“åŒ…"><a href="#2-1-ç§»åŠ¨ç«¯æŠ“åŒ…" class="headerlink" title="2.1 ç§»åŠ¨ç«¯æŠ“åŒ…"></a>2.1 ç§»åŠ¨ç«¯æŠ“åŒ…</h4><blockquote>
<p><strong>tips:</strong> å¤§å¤šæ•°ç­¾åˆ°è¯·æ±‚ä¸­ï¼ŒURLä¸­å¤šå¸¦æœ‰ â€œcheck_inâ€ã€ â€œcreateâ€ã€â€singinâ€ç­‰å­—æ ·ã€‚</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images//1065721195.jpg"
                      alt="å¾®ä¿¡å›¾ç‰‡ç¼–è¾‘_20240320142414.jpg"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images//3014617783.png"
                      alt="è¯·æ±‚ä½“_20240320143514.png"
                ></p>
<p>é€šè¿‡åˆ†ææŠ“å–çš„è¯·æ±‚è®°å½•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¾ˆå¤šç›¸å…³ä¿¡æ¯ï¼Œå…¶ä¸­è¯·æ±‚å¤´ä¸­æºå¸¦éå¸¸è§çš„å­—æ®µï¼Œä¸€èˆ¬å¤šä¸ºé‡è¦ä¿¡æ¯ï¼Œå›¾ä¸­æºå¸¦äº†â€KUMI-TOKENâ€ã€â€PROJECT-IDâ€ã€â€PLATFORMâ€ä¸‰ä¸ªç‰¹æ®Šå­—æ®µã€‚å†æŸ¥çœ‹ä»¥ä¸‹è¯·æ±‚ä½“ï¼Œé‡Œé¢æºå¸¦äº†ä¸€ä¸ªjsonæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒä»¬æš‚ä¸”ä¿ç•™ä¸‹æ¥ï¼Œä»¥ä¾¿äºåé¢çš„è°ƒè¯•ä½¿ç”¨ã€‚</p>
<h4 id="2-2-PCç«¯è°ƒè¯•"><a href="#2-2-PCç«¯è°ƒè¯•" class="headerlink" title="2.2 PCç«¯è°ƒè¯•"></a>2.2 PCç«¯è°ƒè¯•</h4><p>1.æ‰“å¼€PCç«¯çš„postmanå·¥å…·ï¼Œå¡«å…¥æˆ‘ä»¬æŠ“å–çš„è¯·æ±‚ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images//127119554.png"
                      alt="jjy_20240320144132.png"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images//1421599739.png"
                      alt="jjybody_20240320144321.png"
                ></p>
<p>çº¢è‰²åŒºåŸŸä¸ºæŠ“å–çš„headerå­—æ®µï¼ŒBodyåŒºåŸŸå¡«å…¥æŠ“å–åˆ°çš„jsonæ•°æ®ï¼Œå¡«å†™å®Œæ¯•åï¼Œç‚¹å‡»sendåã€‚</p>
<p>æœåŠ¡å™¨è¿”å›çš„æ•°æ®å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;I1013&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸ç¬¦åˆç­¾åˆ°æ—¥æœŸæ¡ä»¶&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<blockquote>
<p><strong>tips:</strong> è¿”å›è¿™ä¸ªç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æŠ“å–çš„ä¸å¯¹ï¼Œè€Œæ˜¯æŠ“åŒ…çš„æ—¶å€™æˆ‘ä»¬å·²ç»ç­¾åˆ°è¿‡äº†ï¼Œé€šè¿‡postmanå†æ¬¡å‘é€ç›¸å½“äºå†ç­¾åˆ°ä¸€æ¬¡ï¼Œæ‰€ä»¥å‡ºç°â€œä¸ç¬¦åˆç­¾åˆ°æ—¥æœŸæ¡ä»¶â€ã€‚</p>
</blockquote>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬åŸºæœ¬ä¸Šå·²ç»ææ¸…æ¥šäº†æ•´ä¸ªç­¾åˆ°æµç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„JSä»£ç ã€‚</p>
<h3 id="3-ç¼–å†™JSè„šæœ¬"><a href="#3-ç¼–å†™JSè„šæœ¬" class="headerlink" title="3.ç¼–å†™JSè„šæœ¬"></a>3.ç¼–å†™JSè„šæœ¬</h3><blockquote>
<p><strong>tips:</strong> ä¸ºäº†ç®€åŒ–å¼€å‘æµç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬å¼•å…¥äº† <a class="link"   href="https://github.com/Peng-YM" >@Peng-YM<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> å¤§ä½¬å¼€å‘çš„<a class="link"   href="https://github.com/Peng-YM/QuanX/tree/master/Tools/OpenAPI" >OpenAPI<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> è·¨å¹³å°è„šæœ¬å¼€å‘APIã€‚</p>
</blockquote>
<h4 id="3-1-å®šä¹‰å…¨å±€å˜é‡"><a href="#3-1-å®šä¹‰å…¨å±€å˜é‡" class="headerlink" title="3.1 å®šä¹‰å…¨å±€å˜é‡"></a>3.1 å®šä¹‰å…¨å±€å˜é‡</h4><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> $ = <span class="keyword">new</span>  <span class="title function_">API</span>(<span class="string">&quot;JIAJIAYUEç­¾åˆ°&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">JJY_TOKEN</span> = <span class="string">&quot;JJY_TOKEN&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Activity</span>_ID = <span class="string">&quot;2402187cvFhAhp9X&quot;</span>; <span class="comment">//è¿™é‡Œå¡«å†™bodyä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">KUMI_TOKEN</span> = <span class="string">&quot;&quot;</span>;  <span class="comment">//è¿™é‡Œå¡«å†™æŠ“åˆ°çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">PROJECT_ID</span> = <span class="string">&quot;&quot;</span>; <span class="comment">//è¿™é‡Œå¡«å†™æŠ“åˆ°çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> json_body = &#123;</span><br><span class="line">    <span class="attr">activityId</span>:<span class="title class_">Activity</span>_ID</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<h4 id="3-2-å¼•å…¥OpenAPI"><a href="#3-2-å¼•å…¥OpenAPI" class="headerlink" title="3.2 å¼•å…¥OpenAPI"></a>3.2 å¼•å…¥OpenAPI</h4><blockquote>
<p><strong>tips:</strong> OpenAPIä»£ç æ¨èå§‹ç»ˆä¿æŒåœ¨æ–‡ä»¶çš„æœ«å°¾</p>
</blockquote>
<div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// prettier-ignore</span></span><br><span class="line"><span class="comment">/*********************************** API *************************************/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ENV</span>(<span class="params"></span>)&#123;<span class="keyword">const</span> e=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $task,t=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $loon,s=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $httpClient&amp;&amp;!t,i=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $jsbox;<span class="keyword">return</span>&#123;<span class="attr">isQX</span>:e,<span class="attr">isLoon</span>:t,<span class="attr">isSurge</span>:s,<span class="attr">isNode</span>:<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;!i,<span class="attr">isJSBox</span>:i,<span class="attr">isRequest</span>:<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $request,<span class="attr">isScriptable</span>:<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> importModule&#125;&#125;<span class="keyword">function</span> <span class="title function_">HTTP</span>(<span class="params">e=&#123;baseURL:<span class="string">&quot;&quot;</span>&#125;</span>)&#123;<span class="keyword">const</span>&#123;<span class="attr">isQX</span>:t,<span class="attr">isLoon</span>:s,<span class="attr">isSurge</span>:i,<span class="attr">isScriptable</span>:n,<span class="attr">isNode</span>:o&#125;=<span class="title function_">ENV</span>(),r=<span class="regexp">/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]&#123;1,256&#125;\.[a-zA-Z0-9()]&#123;1,6&#125;\b([-a-zA-Z0-9()@:%_\+.~#?&amp;\/\/=]*)/</span>;<span class="keyword">const</span> u=&#123;&#125;;<span class="keyword">return</span>[<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;PUT&quot;</span>,<span class="string">&quot;DELETE&quot;</span>,<span class="string">&quot;HEAD&quot;</span>,<span class="string">&quot;OPTIONS&quot;</span>,<span class="string">&quot;PATCH&quot;</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">l</span>=&gt;</span>u[l.<span class="title function_">toLowerCase</span>()]=(<span class="function"><span class="params">u</span>=&gt;</span>(<span class="keyword">function</span>(<span class="params">u,l</span>)&#123;l=<span class="string">&quot;string&quot;</span>==<span class="keyword">typeof</span> l?&#123;<span class="attr">url</span>:l&#125;:l;<span class="keyword">const</span> h=e.<span class="property">baseURL</span>;h&amp;&amp;!r.<span class="title function_">test</span>(l.<span class="property">url</span>||<span class="string">&quot;&quot;</span>)&amp;&amp;(l.<span class="property">url</span>=h?h+l.<span class="property">url</span>:l.<span class="property">url</span>);<span class="keyword">const</span> a=(l=&#123;...e,...l&#125;).<span class="property">timeout</span>,c=&#123;<span class="attr">onRequest</span>:<span class="function">()=&gt;</span>&#123;&#125;,<span class="attr">onResponse</span>:<span class="function"><span class="params">e</span>=&gt;</span>e,<span class="attr">onTimeout</span>:<span class="function">()=&gt;</span>&#123;&#125;,...l.<span class="property">events</span>&#125;;<span class="keyword">let</span> f,d;<span class="keyword">if</span>(c.<span class="title function_">onRequest</span>(u,l),t)f=$task.<span class="title function_">fetch</span>(&#123;<span class="attr">method</span>:u,...l&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(s||i||o)f=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;(o?<span class="built_in">require</span>(<span class="string">&quot;request&quot;</span>):$httpClient)[u.<span class="title function_">toLowerCase</span>()](l,<span class="function">(<span class="params">s,i,n</span>)=&gt;</span>&#123;s?<span class="title function_">t</span>(s):<span class="title function_">e</span>(&#123;<span class="attr">statusCode</span>:i.<span class="property">status</span>||i.<span class="property">statusCode</span>,<span class="attr">headers</span>:i.<span class="property">headers</span>,<span class="attr">body</span>:n&#125;)&#125;)&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(n)&#123;<span class="keyword">const</span> e=<span class="keyword">new</span> <span class="title class_">Request</span>(l.<span class="property">url</span>);e.<span class="property">method</span>=u,e.<span class="property">headers</span>=l.<span class="property">headers</span>,e.<span class="property">body</span>=l.<span class="property">body</span>,f=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">t,s</span>)=&gt;</span>&#123;e.<span class="title function_">loadString</span>().<span class="title function_">then</span>(<span class="function"><span class="params">s</span>=&gt;</span>&#123;<span class="title function_">t</span>(&#123;<span class="attr">statusCode</span>:e.<span class="property">response</span>.<span class="property">statusCode</span>,<span class="attr">headers</span>:e.<span class="property">response</span>.<span class="property">headers</span>,<span class="attr">body</span>:s&#125;)&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">e</span>=&gt;</span><span class="title function_">s</span>(e))&#125;)&#125;<span class="keyword">const</span> p=a?<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;d=<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>(c.<span class="title function_">onTimeout</span>(),<span class="title function_">t</span>(<span class="string">`<span class="subst">$&#123;u&#125;</span> URL: <span class="subst">$&#123;l.url&#125;</span> exceeds the timeout <span class="subst">$&#123;a&#125;</span> ms`</span>)),a)&#125;):<span class="literal">null</span>;<span class="keyword">return</span>(p?<span class="title class_">Promise</span>.<span class="title function_">race</span>([p,f]).<span class="title function_">then</span>(<span class="function"><span class="params">e</span>=&gt;</span>(<span class="built_in">clearTimeout</span>(d),e)):f).<span class="title function_">then</span>(<span class="function"><span class="params">e</span>=&gt;</span>c.<span class="title function_">onResponse</span>(e))&#125;)(l,u))),u&#125;<span class="keyword">function</span> <span class="title function_">API</span>(<span class="params">e=<span class="string">&quot;untitled&quot;</span>,t=!<span class="number">1</span></span>)&#123;<span class="keyword">const</span>&#123;<span class="attr">isQX</span>:s,<span class="attr">isLoon</span>:i,<span class="attr">isSurge</span>:n,<span class="attr">isNode</span>:o,<span class="attr">isJSBox</span>:r,<span class="attr">isScriptable</span>:u&#125;=<span class="title function_">ENV</span>();<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">class</span>&#123;<span class="title function_">constructor</span>(<span class="params">e,t</span>)&#123;<span class="variable language_">this</span>.<span class="property">name</span>=e,<span class="variable language_">this</span>.<span class="property">debug</span>=t,<span class="variable language_">this</span>.<span class="property">http</span>=<span class="title function_">HTTP</span>(),<span class="variable language_">this</span>.<span class="property">env</span>=<span class="title function_">ENV</span>(),<span class="variable language_">this</span>.<span class="property">node</span>=(<span class="function">()=&gt;</span>&#123;<span class="keyword">if</span>(o)&#123;<span class="keyword">return</span>&#123;<span class="attr">fs</span>:<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>)&#125;&#125;<span class="keyword">return</span> <span class="literal">null</span>&#125;)(),<span class="variable language_">this</span>.<span class="title function_">initCache</span>();<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">delay</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">t</span>)&#123;<span class="keyword">return</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">s</span>)&#123;<span class="built_in">setTimeout</span>(s.<span class="title function_">bind</span>(<span class="literal">null</span>,t),e)&#125;))(e,t)&#125;)&#125;&#125;<span class="title function_">initCache</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>(s&amp;&amp;(<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>($prefs.<span class="title function_">valueForKey</span>(<span class="variable language_">this</span>.<span class="property">name</span>)||<span class="string">&quot;&#123;&#125;&quot;</span>)),(i||n)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>($persistentStore.<span class="title function_">read</span>(<span class="variable language_">this</span>.<span class="property">name</span>)||<span class="string">&quot;&#123;&#125;&quot;</span>)),o)&#123;<span class="keyword">let</span> e=<span class="string">&quot;root.json&quot;</span>;<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">existsSync</span>(e)||<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(e,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;&#125;),&#123;<span class="attr">flag</span>:<span class="string">&quot;wx&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">root</span>=&#123;&#125;,e=<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>,<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">existsSync</span>(e)?<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">readFileSync</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>)):(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(e,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;&#125;),&#123;<span class="attr">flag</span>:<span class="string">&quot;wx&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">cache</span>=&#123;&#125;)&#125;&#125;<span class="title function_">persistCache</span>(<span class="params"></span>)&#123;<span class="keyword">const</span> e=<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">cache</span>,<span class="literal">null</span>,<span class="number">2</span>);s&amp;&amp;$prefs.<span class="title function_">setValueForKey</span>(e,<span class="variable language_">this</span>.<span class="property">name</span>),(i||n)&amp;&amp;$persistentStore.<span class="title function_">write</span>(e,<span class="variable language_">this</span>.<span class="property">name</span>),o&amp;&amp;(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>,e,&#123;<span class="attr">flag</span>:<span class="string">&quot;w&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(<span class="string">&quot;root.json&quot;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">root</span>,<span class="literal">null</span>,<span class="number">2</span>),&#123;<span class="attr">flag</span>:<span class="string">&quot;w&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)))&#125;<span class="title function_">write</span>(<span class="params">e,t</span>)&#123;<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`SET <span class="subst">$&#123;t&#125;</span>`</span>),-<span class="number">1</span>!==t.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>))&#123;<span class="keyword">if</span>(t=t.<span class="title function_">substr</span>(<span class="number">1</span>),n||i)<span class="keyword">return</span> $persistentStore.<span class="title function_">write</span>(e,t);<span class="keyword">if</span>(s)<span class="keyword">return</span> $prefs.<span class="title function_">setValueForKey</span>(e,t);o&amp;&amp;(<span class="variable language_">this</span>.<span class="property">root</span>[t]=e)&#125;<span class="keyword">else</span> <span class="variable language_">this</span>.<span class="property">cache</span>[t]=e;<span class="variable language_">this</span>.<span class="title function_">persistCache</span>()&#125;<span class="title function_">read</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`READ <span class="subst">$&#123;e&#125;</span>`</span>),-<span class="number">1</span>===e.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>)?<span class="variable language_">this</span>.<span class="property">cache</span>[e]:(e=e.<span class="title function_">substr</span>(<span class="number">1</span>),n||i?$persistentStore.<span class="title function_">read</span>(e):s?$prefs.<span class="title function_">valueForKey</span>(e):o?<span class="variable language_">this</span>.<span class="property">root</span>[e]:<span class="keyword">void</span> <span class="number">0</span>)&#125;<span class="title function_">delete</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`DELETE <span class="subst">$&#123;e&#125;</span>`</span>),-<span class="number">1</span>!==e.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>))&#123;<span class="keyword">if</span>(e=e.<span class="title function_">substr</span>(<span class="number">1</span>),n||i)<span class="keyword">return</span> $persistentStore.<span class="title function_">write</span>(<span class="literal">null</span>,e);<span class="keyword">if</span>(s)<span class="keyword">return</span> $prefs.<span class="title function_">removeValueForKey</span>(e);o&amp;&amp;<span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">root</span>[e]&#125;<span class="keyword">else</span> <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">cache</span>[e];<span class="variable language_">this</span>.<span class="title function_">persistCache</span>()&#125;<span class="title function_">notify</span>(<span class="params">e,t=<span class="string">&quot;&quot;</span>,l=<span class="string">&quot;&quot;</span>,h=&#123;&#125;</span>)&#123;<span class="keyword">const</span> a=h[<span class="string">&quot;open-url&quot;</span>],c=h[<span class="string">&quot;media-url&quot;</span>];<span class="keyword">if</span>(s&amp;&amp;$notify(e,t,l,h),n&amp;&amp;$notification.<span class="title function_">post</span>(e,t,l+<span class="string">`<span class="subst">$&#123;c?<span class="string">&quot;\nå¤šåª’ä½“:&quot;</span>+c:<span class="string">&quot;&quot;</span>&#125;</span>`</span>,&#123;<span class="attr">url</span>:a&#125;),i)&#123;<span class="keyword">let</span> s=&#123;&#125;;a&amp;&amp;(s.<span class="property">openUrl</span>=a),c&amp;&amp;(s.<span class="property">mediaUrl</span>=c),<span class="string">&quot;&#123;&#125;&quot;</span>===<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(s)?$notification.<span class="title function_">post</span>(e,t,l):$notification.<span class="title function_">post</span>(e,t,l,s)&#125;<span class="keyword">if</span>(o||u)&#123;<span class="keyword">const</span> s=l+(a?<span class="string">`\nç‚¹å‡»è·³è½¬: <span class="subst">$&#123;a&#125;</span>`</span>:<span class="string">&quot;&quot;</span>)+(c?<span class="string">`\nå¤šåª’ä½“: <span class="subst">$&#123;c&#125;</span>`</span>:<span class="string">&quot;&quot;</span>);<span class="keyword">if</span>(r)&#123;<span class="built_in">require</span>(<span class="string">&quot;push&quot;</span>).<span class="title function_">schedule</span>(&#123;<span class="attr">title</span>:e,<span class="attr">body</span>:(t?t+<span class="string">&quot;\n&quot;</span>:<span class="string">&quot;&quot;</span>)+s&#125;)&#125;<span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;e&#125;</span>\n<span class="subst">$&#123;t&#125;</span>\n<span class="subst">$&#123;s&#125;</span>\n\n`</span>)&#125;&#125;<span class="title function_">log</span>(<span class="params">e</span>)&#123;<span class="variable language_">this</span>.<span class="property">debug</span>&amp;&amp;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] LOG: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">info</span>(<span class="params">e</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] INFO: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">error</span>(<span class="params">e</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] ERROR: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">wait</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">t</span>=&gt;</span><span class="built_in">setTimeout</span>(t,e))&#125;<span class="title function_">done</span>(<span class="params">e=&#123;&#125;</span>)&#123;s||i||n?$done(e):o&amp;&amp;!r&amp;&amp;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $context&amp;&amp;($context.<span class="property">headers</span>=e.<span class="property">headers</span>,$context.<span class="property">statusCode</span>=e.<span class="property">statusCode</span>,$context.<span class="property">body</span>=e.<span class="property">body</span>)&#125;<span class="title function_">stringify</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(<span class="string">&quot;string&quot;</span>==<span class="keyword">typeof</span> e||e <span class="keyword">instanceof</span> <span class="title class_">String</span>)<span class="keyword">return</span> e;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(e,<span class="literal">null</span>,<span class="number">2</span>)&#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">return</span><span class="string">&quot;[object Object]&quot;</span>&#125;&#125;&#125;(e,t)&#125;</span><br><span class="line"><span class="comment">/*****************************************************************************/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="3-3-ç¼–å†™ç­¾åˆ°å‡½æ•°"><a href="#3-3-ç¼–å†™ç­¾åˆ°å‡½æ•°" class="headerlink" title="3.3 ç¼–å†™ç­¾åˆ°å‡½æ•°"></a>3.3 ç¼–å†™ç­¾åˆ°å‡½æ•°</h4><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">check_in</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> params = $.<span class="title function_">read</span>( <span class="variable constant_">JJY_TOKEN</span>).<span class="title function_">split</span>(<span class="string">&#x27;@&#x27;</span>);  <span class="comment">//åœˆXç¯å¢ƒä¸‹è¯»å–å­˜å‚¨çš„TOKEN</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(params));</span><br><span class="line">    <span class="variable constant_">KUMI_TOKEN</span> = params[<span class="number">0</span>];</span><br><span class="line">    <span class="variable constant_">PROJECT_ID</span> = params[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> req = &#123; <span class="comment">//æ„é€ è¯·æ±‚</span></span><br><span class="line">        <span class="attr">url</span>:<span class="string">&quot;https://mole-mmp-scrm.jiajiayue.com/boss/boss/signin/record/create&quot;</span>,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;KUMI-TOKEN&quot;</span>:<span class="variable constant_">KUMI_TOKEN</span>,</span><br><span class="line">            <span class="string">&quot;PROJECT-ID&quot;</span>:<span class="variable constant_">PROJECT_ID</span>,</span><br><span class="line">            <span class="string">&quot;PLATFORM&quot;</span>:<span class="string">&quot;JIAJIAYUE&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">body</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(json_body)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">await</span> $.http.<span class="title function_">post</span>(req).<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span>&#123; <span class="comment">//å‘èµ·ä¸€ä¸ªå¼‚æ­¥postè¯·æ±‚</span></span><br><span class="line">              <span class="keyword">let</span> body = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(resp.<span class="property">body</span>); <span class="comment">//è§£æè¿”å›æ•°æ®ç»“æœ</span></span><br><span class="line">              <span class="keyword">if</span>(body.<span class="property">code</span> == <span class="string">&quot;I1013&quot;</span>)&#123; <span class="comment">//å‚è€ƒè°ƒè¯•è¿‡ç¨‹ä¸­æœåŠ¡å™¨è¿”å›çš„jsonæ•°æ®</span></span><br><span class="line">                  $.<span class="title function_">log</span>(body.<span class="property">message</span>);</span><br><span class="line">                  $.<span class="title function_">notify</span>(<span class="string">&quot;&quot;</span>, <span class="string">`<span class="subst">$&#123;$.name&#125;</span>å¤±è´¥âŒé‡å¤ç­¾åˆ°`</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">              &#125;<span class="keyword">else</span> <span class="keyword">if</span>(body.<span class="property">code</span> == <span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">                  <span class="keyword">let</span> data = body.<span class="property">data</span>;</span><br><span class="line">                  <span class="keyword">if</span>(data.<span class="property">continueNumber</span> == <span class="number">7</span> || data.<span class="property">continueNumber</span> == <span class="number">15</span>)&#123; <span class="comment">//æ´»åŠ¨æ˜¯æ¯ç­¾åˆ°7å¤©æˆ–15å¤©å¯ä»¥å…è´¹æŠ½å¥–ä¸€æ¬¡</span></span><br><span class="line">                      $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>ç­¾åˆ°æˆåŠŸğŸ‰ `</span>, <span class="string">&quot;ä»Šå¤©å¯ä»¥å»å°ç¨‹åºæŠ½å¥–&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                      $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>ç­¾åˆ°æˆåŠŸğŸ‰ `</span>, <span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>æœªçŸ¥çš„é”™è¯¯ `</span>, <span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;<span class="keyword">catch</span>(error)&#123; <span class="comment">//å¦‚æœè¯·æ±‚è¿‡ç¨‹å‡ºé”™åˆ™æ‰“å°é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="3-4-ç¼–å†™Quantumult-X-ä¸‹è·å–tokenå‡½æ•°"><a href="#3-4-ç¼–å†™Quantumult-X-ä¸‹è·å–tokenå‡½æ•°" class="headerlink" title="3.4 ç¼–å†™Quantumult X ä¸‹è·å–tokenå‡½æ•°"></a>3.4 ç¼–å†™Quantumult X ä¸‹è·å–tokenå‡½æ•°</h4><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getToken</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> kt = $request.<span class="property">headers</span>[<span class="string">&#x27;KUMI-TOKEN&#x27;</span>]; <span class="comment">//è¯»å–è¯·æ±‚å¤´ä¸­çš„KUMI-TOKEN</span></span><br><span class="line">    <span class="keyword">let</span> pi = $request.<span class="property">headers</span>[<span class="string">&#x27;PROJECT-ID&#x27;</span>]; <span class="comment">//è¯»å–è¯·æ±‚å¤´ä¸­çš„PROJECT-ID</span></span><br><span class="line">    <span class="keyword">if</span>((kt != <span class="string">&quot;&quot;</span>) &amp;&amp; (pi!= <span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> token = kt +<span class="string">&quot;@&quot;</span>+ pi; <span class="comment">//ç”¨@æ‹¼æ¥ä¸¤ä¸ªå€¼</span></span><br><span class="line">        $.<span class="title function_">write</span>(token, <span class="variable constant_">JJY_TOKEN</span>); <span class="comment">//å†™å…¥æŒä¹…åŒ–å­˜å‚¨</span></span><br><span class="line">        <span class="keyword">if</span>($.<span class="title function_">read</span>(<span class="variable constant_">JJY_TOKEN</span>))&#123;</span><br><span class="line">            $.<span class="title function_">notify</span>(<span class="string">&quot;å®¶å®¶æ‚¦Tokenè·å–æˆåŠŸ~ğŸ‰&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="3-5-ç»Ÿä¸€è°ƒç”¨"><a href="#3-5-ç»Ÿä¸€è°ƒç”¨" class="headerlink" title="3.5 ç»Ÿä¸€è°ƒç”¨"></a>3.5 ç»Ÿä¸€è°ƒç”¨</h4><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (isGetCookie = <span class="keyword">typeof</span> $request !== <span class="string">`undefined`</span>) &#123; </span><br><span class="line">    <span class="title function_">getToken</span>(); <span class="comment">//è·å–token</span></span><br><span class="line">    $.<span class="title function_">done</span>(); </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    !(<span class="title function_">async</span>()=&gt;&#123; </span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">check_in</span>(); <span class="comment">//æ‰§è¡Œç­¾åˆ°</span></span><br><span class="line">        $.<span class="title function_">done</span>();</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="3-6-å®Œæ•´ä»£ç "><a href="#3-6-å®Œæ•´ä»£ç " class="headerlink" title="3.6 å®Œæ•´ä»£ç "></a>3.6 å®Œæ•´ä»£ç </h4><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> -------------- Quantumult X é…ç½® --------------</span></span><br><span class="line"><span class="comment">[MITM]</span></span><br><span class="line"><span class="comment">hostname = mole-mmp-scrm.jiajiayue.com</span></span><br><span class="line"><span class="comment">* å®¶å®¶æ‚¦å¾®ä¿¡å°ç¨‹åº</span></span><br><span class="line"><span class="comment">* 3æœˆä»½ç­¾åˆ°æ´»åŠ¨</span></span><br><span class="line"><span class="comment">* åŠŸèƒ½ï¼šè‡ªåŠ¨ç­¾åˆ°</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* è·å–CKï¼š å®¶å®¶æ‚¦å°ç¨‹åº -&gt; 3æœˆä»½ç­¾åˆ°</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">[rewrite_local]</span></span><br><span class="line"><span class="comment">^https:\/\/mole-mmp-scrm\.jiajiayue\.com\/boss\/boss\/signin\/record\/list url script-request-header https://raw.githubusercontent.com/tidik/quanx/master/script/jjy.js</span></span><br><span class="line"><span class="comment">[task_local]</span></span><br><span class="line"><span class="comment">30 8 * * * https://raw.githubusercontent.com/tidik/quanx/master/script/jjy.js, tag=å®¶å®¶æ‚¦ç­¾åˆ°,enabled=true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> $ = <span class="keyword">new</span>  <span class="title function_">API</span>(<span class="string">&quot;å®¶å®¶æ‚¦ç­¾åˆ°&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">JJY_TOKEN</span> = <span class="string">&quot;JJY_TOKEN&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Activity</span>_ID = <span class="string">&quot;2402187cvFhAhp9X&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">KUMI_TOKEN</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">PROJECT_ID</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> json_body = &#123;</span><br><span class="line">    <span class="attr">activityId</span>:<span class="title class_">Activity</span>_ID</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">check_in</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> params = $.<span class="title function_">read</span>( <span class="variable constant_">JJY_TOKEN</span>).<span class="title function_">split</span>(<span class="string">&#x27;@&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(params));</span><br><span class="line">    <span class="variable constant_">KUMI_TOKEN</span> = params[<span class="number">0</span>];</span><br><span class="line">    <span class="variable constant_">PROJECT_ID</span> = params[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> req = &#123;</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&quot;https://mole-mmp-scrm.jiajiayue.com/boss/boss/signin/record/create&quot;</span>,</span><br><span class="line">        <span class="attr">headers</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;KUMI-TOKEN&quot;</span>:<span class="variable constant_">KUMI_TOKEN</span>,</span><br><span class="line">            <span class="string">&quot;PROJECT-ID&quot;</span>:<span class="variable constant_">PROJECT_ID</span>,</span><br><span class="line">            <span class="string">&quot;PLATFORM&quot;</span>:<span class="string">&quot;JIAJIAYUE&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">body</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(json_body)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">await</span> $.http.<span class="title function_">post</span>(req).<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span>&#123;</span><br><span class="line">              <span class="keyword">let</span> body = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(resp.<span class="property">body</span>);</span><br><span class="line">              <span class="keyword">if</span>(body.<span class="property">code</span> == <span class="string">&quot;I1013&quot;</span>)&#123;</span><br><span class="line">                  $.<span class="title function_">log</span>(body.<span class="property">message</span>);</span><br><span class="line">                  $.<span class="title function_">notify</span>(<span class="string">&quot;&quot;</span>, <span class="string">`<span class="subst">$&#123;$.name&#125;</span>å¤±è´¥âŒé‡å¤ç­¾åˆ°`</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">              &#125;<span class="keyword">else</span> <span class="keyword">if</span>(body.<span class="property">code</span> == <span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">                  <span class="keyword">let</span> data = body.<span class="property">data</span>;</span><br><span class="line">                  <span class="keyword">if</span>(data.<span class="property">continueNumber</span> == <span class="number">7</span> || data.<span class="property">continueNumber</span> == <span class="number">15</span>)&#123;</span><br><span class="line">                      $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>ç­¾åˆ°æˆåŠŸğŸ‰ `</span>, <span class="string">&quot;ä»Šå¤©å¯ä»¥å»å°ç¨‹åºæŠ½å¥–&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                      $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>ç­¾åˆ°æˆåŠŸğŸ‰ `</span>, <span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  $.<span class="title function_">notify</span>(<span class="string">`<span class="subst">$&#123;$.name&#125;</span>æœªçŸ¥çš„é”™è¯¯ `</span>, <span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;<span class="keyword">catch</span>(error)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getToken</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> kt = $request.<span class="property">headers</span>[<span class="string">&#x27;KUMI-TOKEN&#x27;</span>];</span><br><span class="line">    <span class="keyword">let</span> pi = $request.<span class="property">headers</span>[<span class="string">&#x27;PROJECT-ID&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>((kt != <span class="string">&quot;&quot;</span>) &amp;&amp; (pi!= <span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">let</span> token = kt +<span class="string">&quot;@&quot;</span>+ pi;</span><br><span class="line">        $.<span class="title function_">write</span>(token, <span class="variable constant_">JJY_TOKEN</span>);</span><br><span class="line">        <span class="keyword">if</span>($.<span class="title function_">read</span>(<span class="variable constant_">JJY_TOKEN</span>))&#123;</span><br><span class="line">            $.<span class="title function_">notify</span>(<span class="string">&quot;å®¶å®¶æ‚¦Tokenè·å–æˆåŠŸ~ğŸ‰&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (isGetCookie = <span class="keyword">typeof</span> $request !== <span class="string">`undefined`</span>) &#123;</span><br><span class="line">    <span class="title function_">getToken</span>();</span><br><span class="line">    $.<span class="title function_">done</span>();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    !(<span class="title function_">async</span>()=&gt;&#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">check_in</span>();</span><br><span class="line">        $.<span class="title function_">done</span>();</span><br><span class="line">    &#125;)();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// prettier-ignore</span></span><br><span class="line"><span class="comment">/*********************************** API *************************************/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ENV</span>(<span class="params"></span>)&#123;<span class="keyword">const</span> e=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $task,t=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $loon,s=<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $httpClient&amp;&amp;!t,i=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $jsbox;<span class="keyword">return</span>&#123;<span class="attr">isQX</span>:e,<span class="attr">isLoon</span>:t,<span class="attr">isSurge</span>:s,<span class="attr">isNode</span>:<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;!i,<span class="attr">isJSBox</span>:i,<span class="attr">isRequest</span>:<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $request,<span class="attr">isScriptable</span>:<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> importModule&#125;&#125;<span class="keyword">function</span> <span class="title function_">HTTP</span>(<span class="params">e=&#123;baseURL:<span class="string">&quot;&quot;</span>&#125;</span>)&#123;<span class="keyword">const</span>&#123;<span class="attr">isQX</span>:t,<span class="attr">isLoon</span>:s,<span class="attr">isSurge</span>:i,<span class="attr">isScriptable</span>:n,<span class="attr">isNode</span>:o&#125;=<span class="title function_">ENV</span>(),r=<span class="regexp">/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]&#123;1,256&#125;\.[a-zA-Z0-9()]&#123;1,6&#125;\b([-a-zA-Z0-9()@:%_\+.~#?&amp;\/\/=]*)/</span>;<span class="keyword">const</span> u=&#123;&#125;;<span class="keyword">return</span>[<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;PUT&quot;</span>,<span class="string">&quot;DELETE&quot;</span>,<span class="string">&quot;HEAD&quot;</span>,<span class="string">&quot;OPTIONS&quot;</span>,<span class="string">&quot;PATCH&quot;</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">l</span>=&gt;</span>u[l.<span class="title function_">toLowerCase</span>()]=(<span class="function"><span class="params">u</span>=&gt;</span>(<span class="keyword">function</span>(<span class="params">u,l</span>)&#123;l=<span class="string">&quot;string&quot;</span>==<span class="keyword">typeof</span> l?&#123;<span class="attr">url</span>:l&#125;:l;<span class="keyword">const</span> h=e.<span class="property">baseURL</span>;h&amp;&amp;!r.<span class="title function_">test</span>(l.<span class="property">url</span>||<span class="string">&quot;&quot;</span>)&amp;&amp;(l.<span class="property">url</span>=h?h+l.<span class="property">url</span>:l.<span class="property">url</span>);<span class="keyword">const</span> a=(l=&#123;...e,...l&#125;).<span class="property">timeout</span>,c=&#123;<span class="attr">onRequest</span>:<span class="function">()=&gt;</span>&#123;&#125;,<span class="attr">onResponse</span>:<span class="function"><span class="params">e</span>=&gt;</span>e,<span class="attr">onTimeout</span>:<span class="function">()=&gt;</span>&#123;&#125;,...l.<span class="property">events</span>&#125;;<span class="keyword">let</span> f,d;<span class="keyword">if</span>(c.<span class="title function_">onRequest</span>(u,l),t)f=$task.<span class="title function_">fetch</span>(&#123;<span class="attr">method</span>:u,...l&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(s||i||o)f=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;(o?<span class="built_in">require</span>(<span class="string">&quot;request&quot;</span>):$httpClient)[u.<span class="title function_">toLowerCase</span>()](l,<span class="function">(<span class="params">s,i,n</span>)=&gt;</span>&#123;s?<span class="title function_">t</span>(s):<span class="title function_">e</span>(&#123;<span class="attr">statusCode</span>:i.<span class="property">status</span>||i.<span class="property">statusCode</span>,<span class="attr">headers</span>:i.<span class="property">headers</span>,<span class="attr">body</span>:n&#125;)&#125;)&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(n)&#123;<span class="keyword">const</span> e=<span class="keyword">new</span> <span class="title class_">Request</span>(l.<span class="property">url</span>);e.<span class="property">method</span>=u,e.<span class="property">headers</span>=l.<span class="property">headers</span>,e.<span class="property">body</span>=l.<span class="property">body</span>,f=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">t,s</span>)=&gt;</span>&#123;e.<span class="title function_">loadString</span>().<span class="title function_">then</span>(<span class="function"><span class="params">s</span>=&gt;</span>&#123;<span class="title function_">t</span>(&#123;<span class="attr">statusCode</span>:e.<span class="property">response</span>.<span class="property">statusCode</span>,<span class="attr">headers</span>:e.<span class="property">response</span>.<span class="property">headers</span>,<span class="attr">body</span>:s&#125;)&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">e</span>=&gt;</span><span class="title function_">s</span>(e))&#125;)&#125;<span class="keyword">const</span> p=a?<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span>&#123;d=<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>(c.<span class="title function_">onTimeout</span>(),<span class="title function_">t</span>(<span class="string">`<span class="subst">$&#123;u&#125;</span> URL: <span class="subst">$&#123;l.url&#125;</span> exceeds the timeout <span class="subst">$&#123;a&#125;</span> ms`</span>)),a)&#125;):<span class="literal">null</span>;<span class="keyword">return</span>(p?<span class="title class_">Promise</span>.<span class="title function_">race</span>([p,f]).<span class="title function_">then</span>(<span class="function"><span class="params">e</span>=&gt;</span>(<span class="built_in">clearTimeout</span>(d),e)):f).<span class="title function_">then</span>(<span class="function"><span class="params">e</span>=&gt;</span>c.<span class="title function_">onResponse</span>(e))&#125;)(l,u))),u&#125;<span class="keyword">function</span> <span class="title function_">API</span>(<span class="params">e=<span class="string">&quot;untitled&quot;</span>,t=!<span class="number">1</span></span>)&#123;<span class="keyword">const</span>&#123;<span class="attr">isQX</span>:s,<span class="attr">isLoon</span>:i,<span class="attr">isSurge</span>:n,<span class="attr">isNode</span>:o,<span class="attr">isJSBox</span>:r,<span class="attr">isScriptable</span>:u&#125;=<span class="title function_">ENV</span>();<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">class</span>&#123;<span class="title function_">constructor</span>(<span class="params">e,t</span>)&#123;<span class="variable language_">this</span>.<span class="property">name</span>=e,<span class="variable language_">this</span>.<span class="property">debug</span>=t,<span class="variable language_">this</span>.<span class="property">http</span>=<span class="title function_">HTTP</span>(),<span class="variable language_">this</span>.<span class="property">env</span>=<span class="title function_">ENV</span>(),<span class="variable language_">this</span>.<span class="property">node</span>=(<span class="function">()=&gt;</span>&#123;<span class="keyword">if</span>(o)&#123;<span class="keyword">return</span>&#123;<span class="attr">fs</span>:<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>)&#125;&#125;<span class="keyword">return</span> <span class="literal">null</span>&#125;)(),<span class="variable language_">this</span>.<span class="title function_">initCache</span>();<span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">delay</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">t</span>)&#123;<span class="keyword">return</span>(<span class="function">(<span class="params">e,t</span>)=&gt;</span><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">s</span>)&#123;<span class="built_in">setTimeout</span>(s.<span class="title function_">bind</span>(<span class="literal">null</span>,t),e)&#125;))(e,t)&#125;)&#125;&#125;<span class="title function_">initCache</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>(s&amp;&amp;(<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>($prefs.<span class="title function_">valueForKey</span>(<span class="variable language_">this</span>.<span class="property">name</span>)||<span class="string">&quot;&#123;&#125;&quot;</span>)),(i||n)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>($persistentStore.<span class="title function_">read</span>(<span class="variable language_">this</span>.<span class="property">name</span>)||<span class="string">&quot;&#123;&#125;&quot;</span>)),o)&#123;<span class="keyword">let</span> e=<span class="string">&quot;root.json&quot;</span>;<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">existsSync</span>(e)||<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(e,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;&#125;),&#123;<span class="attr">flag</span>:<span class="string">&quot;wx&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">root</span>=&#123;&#125;,e=<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>,<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">existsSync</span>(e)?<span class="variable language_">this</span>.<span class="property">cache</span>=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">readFileSync</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>)):(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(e,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;&#125;),&#123;<span class="attr">flag</span>:<span class="string">&quot;wx&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">cache</span>=&#123;&#125;)&#125;&#125;<span class="title function_">persistCache</span>(<span class="params"></span>)&#123;<span class="keyword">const</span> e=<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">cache</span>,<span class="literal">null</span>,<span class="number">2</span>);s&amp;&amp;$prefs.<span class="title function_">setValueForKey</span>(e,<span class="variable language_">this</span>.<span class="property">name</span>),(i||n)&amp;&amp;$persistentStore.<span class="title function_">write</span>(e,<span class="variable language_">this</span>.<span class="property">name</span>),o&amp;&amp;(<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.json`</span>,e,&#123;<span class="attr">flag</span>:<span class="string">&quot;w&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)),<span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">fs</span>.<span class="title function_">writeFileSync</span>(<span class="string">&quot;root.json&quot;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">root</span>,<span class="literal">null</span>,<span class="number">2</span>),&#123;<span class="attr">flag</span>:<span class="string">&quot;w&quot;</span>&#125;,<span class="function"><span class="params">e</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(e)))&#125;<span class="title function_">write</span>(<span class="params">e,t</span>)&#123;<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`SET <span class="subst">$&#123;t&#125;</span>`</span>),-<span class="number">1</span>!==t.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>))&#123;<span class="keyword">if</span>(t=t.<span class="title function_">substr</span>(<span class="number">1</span>),n||i)<span class="keyword">return</span> $persistentStore.<span class="title function_">write</span>(e,t);<span class="keyword">if</span>(s)<span class="keyword">return</span> $prefs.<span class="title function_">setValueForKey</span>(e,t);o&amp;&amp;(<span class="variable language_">this</span>.<span class="property">root</span>[t]=e)&#125;<span class="keyword">else</span> <span class="variable language_">this</span>.<span class="property">cache</span>[t]=e;<span class="variable language_">this</span>.<span class="title function_">persistCache</span>()&#125;<span class="title function_">read</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`READ <span class="subst">$&#123;e&#125;</span>`</span>),-<span class="number">1</span>===e.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>)?<span class="variable language_">this</span>.<span class="property">cache</span>[e]:(e=e.<span class="title function_">substr</span>(<span class="number">1</span>),n||i?$persistentStore.<span class="title function_">read</span>(e):s?$prefs.<span class="title function_">valueForKey</span>(e):o?<span class="variable language_">this</span>.<span class="property">root</span>[e]:<span class="keyword">void</span> <span class="number">0</span>)&#125;<span class="title function_">delete</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">`DELETE <span class="subst">$&#123;e&#125;</span>`</span>),-<span class="number">1</span>!==e.<span class="title function_">indexOf</span>(<span class="string">&quot;#&quot;</span>))&#123;<span class="keyword">if</span>(e=e.<span class="title function_">substr</span>(<span class="number">1</span>),n||i)<span class="keyword">return</span> $persistentStore.<span class="title function_">write</span>(<span class="literal">null</span>,e);<span class="keyword">if</span>(s)<span class="keyword">return</span> $prefs.<span class="title function_">removeValueForKey</span>(e);o&amp;&amp;<span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">root</span>[e]&#125;<span class="keyword">else</span> <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">cache</span>[e];<span class="variable language_">this</span>.<span class="title function_">persistCache</span>()&#125;<span class="title function_">notify</span>(<span class="params">e,t=<span class="string">&quot;&quot;</span>,l=<span class="string">&quot;&quot;</span>,h=&#123;&#125;</span>)&#123;<span class="keyword">const</span> a=h[<span class="string">&quot;open-url&quot;</span>],c=h[<span class="string">&quot;media-url&quot;</span>];<span class="keyword">if</span>(s&amp;&amp;$notify(e,t,l,h),n&amp;&amp;$notification.<span class="title function_">post</span>(e,t,l+<span class="string">`<span class="subst">$&#123;c?<span class="string">&quot;\nå¤šåª’ä½“:&quot;</span>+c:<span class="string">&quot;&quot;</span>&#125;</span>`</span>,&#123;<span class="attr">url</span>:a&#125;),i)&#123;<span class="keyword">let</span> s=&#123;&#125;;a&amp;&amp;(s.<span class="property">openUrl</span>=a),c&amp;&amp;(s.<span class="property">mediaUrl</span>=c),<span class="string">&quot;&#123;&#125;&quot;</span>===<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(s)?$notification.<span class="title function_">post</span>(e,t,l):$notification.<span class="title function_">post</span>(e,t,l,s)&#125;<span class="keyword">if</span>(o||u)&#123;<span class="keyword">const</span> s=l+(a?<span class="string">`\nç‚¹å‡»è·³è½¬: <span class="subst">$&#123;a&#125;</span>`</span>:<span class="string">&quot;&quot;</span>)+(c?<span class="string">`\nå¤šåª’ä½“: <span class="subst">$&#123;c&#125;</span>`</span>:<span class="string">&quot;&quot;</span>);<span class="keyword">if</span>(r)&#123;<span class="built_in">require</span>(<span class="string">&quot;push&quot;</span>).<span class="title function_">schedule</span>(&#123;<span class="attr">title</span>:e,<span class="attr">body</span>:(t?t+<span class="string">&quot;\n&quot;</span>:<span class="string">&quot;&quot;</span>)+s&#125;)&#125;<span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;e&#125;</span>\n<span class="subst">$&#123;t&#125;</span>\n<span class="subst">$&#123;s&#125;</span>\n\n`</span>)&#125;&#125;<span class="title function_">log</span>(<span class="params">e</span>)&#123;<span class="variable language_">this</span>.<span class="property">debug</span>&amp;&amp;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] LOG: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">info</span>(<span class="params">e</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] INFO: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">error</span>(<span class="params">e</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>] ERROR: <span class="subst">$&#123;<span class="variable language_">this</span>.stringify(e)&#125;</span>`</span>)&#125;<span class="title function_">wait</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">t</span>=&gt;</span><span class="built_in">setTimeout</span>(t,e))&#125;<span class="title function_">done</span>(<span class="params">e=&#123;&#125;</span>)&#123;s||i||n?$done(e):o&amp;&amp;!r&amp;&amp;<span class="string">&quot;undefined&quot;</span>!=<span class="keyword">typeof</span> $context&amp;&amp;($context.<span class="property">headers</span>=e.<span class="property">headers</span>,$context.<span class="property">statusCode</span>=e.<span class="property">statusCode</span>,$context.<span class="property">body</span>=e.<span class="property">body</span>)&#125;<span class="title function_">stringify</span>(<span class="params">e</span>)&#123;<span class="keyword">if</span>(<span class="string">&quot;string&quot;</span>==<span class="keyword">typeof</span> e||e <span class="keyword">instanceof</span> <span class="title class_">String</span>)<span class="keyword">return</span> e;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(e,<span class="literal">null</span>,<span class="number">2</span>)&#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">return</span><span class="string">&quot;[object Object]&quot;</span>&#125;&#125;&#125;(e,t)&#125;</span><br><span class="line"><span class="comment">/*****************************************************************************/</span></span><br></pre></td></tr></table></figure></div>

<h3 id="4-é…ç½®Quantumult-X"><a href="#4-é…ç½®Quantumult-X" class="headerlink" title="4.é…ç½®Quantumult X"></a>4.é…ç½®Quantumult X</h3><h4 id="4-1-é…ç½®é‡å†™"><a href="#4-1-é…ç½®é‡å†™" class="headerlink" title="4.1 é…ç½®é‡å†™"></a>4.1 é…ç½®é‡å†™</h4><blockquote>
<p>å°†ä»¥ä¸‹ä»£ç å¡«å†™åˆ°[rewrite_local]åŒºåŸŸ</p>
</blockquote>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">^https:\/\/mole-mmp-scrm\.jiajiayue\.com\/boss\/boss\/signin\/record\/list url script-request-header https://raw.githubusercontent.com/tidik/quanx/master/script/jjy.js</span><br></pre></td></tr></table></figure></div>

<h4 id="4-2-é…ç½®å®šæ—¶ä»»åŠ¡"><a href="#4-2-é…ç½®å®šæ—¶ä»»åŠ¡" class="headerlink" title="4.2 é…ç½®å®šæ—¶ä»»åŠ¡"></a>4.2 é…ç½®å®šæ—¶ä»»åŠ¡</h4><blockquote>
<p>å°†ä»¥ä¸‹ä»£ç å¡«å†™åˆ°[task_local]åŒºåŸŸ</p>
</blockquote>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">30 8 * * * https://raw.githubusercontent.com/tidik/quanx/master/script/jjy.js, tag=å®¶å®¶æ‚¦ç­¾åˆ°,enabled=true</span><br></pre></td></tr></table></figure></div>

<h4 id="4-3-é…ç½®MITM"><a href="#4-3-é…ç½®MITM" class="headerlink" title="4.3 é…ç½®MITM"></a>4.3 é…ç½®MITM</h4><blockquote>
<p>å°†ä»¥ä¸‹ä»£ç å¡«å†™åˆ°[MITM]åŒºåŸŸ</p>
</blockquote>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">hostname = mole-mmp-scrm.jiajiayue.com</span><br></pre></td></tr></table></figure></div>

<p>åˆ°è¿™ä¸€æ­¥ï¼Œé…ç½®å®Œä»¥ä¸Šå†…å®¹åå°±å¯ä»¥æ‰“å¼€MITMå’Œé‡å†™é€‰é¡¹ï¼Œå†åˆ°å¯¹åº”ç­¾åˆ°ç•Œé¢å°±èƒ½è‡ªåŠ¨æŠ“å–tokenç­‰ç›¸å…³å‚æ•°ï¼Œç„¶åæ‰§è¡Œå®šæ—¶ä»»åŠ¡äº†ã€‚</p>
]]></content>
      <tags>
        <tag>QuantumultX,JS</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€å•åˆ†äº«OpenRestyä¸‹çš„443ç«¯å£å…±ç”¨æ–¹æ¡ˆ</title>
    <url>/2024/11/10/00356b776dfa.html</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ä¸‹ï¼ˆæ¯”å¦‚ï¼Œæµé‚¦å¡å®šå‘å…æµï¼‰ï¼Œéœ€è¦ç”¨åˆ°443ï¼ˆSSL&#x2F;TLSï¼‰ç«¯å£ï¼ŒAæœåŠ¡éœ€è¦ç”¨åˆ°ï¼ŒBæœåŠ¡ä¹Ÿè¦ç”¨åˆ°ï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿå†…åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªç¨‹åºæ¥ç›‘å¬åŒä¸€ä¸ªç«¯å£ã€‚æ‰€ä»¥æœ¬æ–‡åŸºäº<code>Debian 12</code> ç³»ç»Ÿæ¥åˆ†äº«ä¸€ä¸‹443ç«¯å£çš„å…±ç”¨æ–¹æ¡ˆã€‚</p>
<h3 id="é¦–å…ˆå®‰è£…OpenResty"><a href="#é¦–å…ˆå®‰è£…OpenResty" class="headerlink" title="é¦–å…ˆå®‰è£…OpenResty"></a>é¦–å…ˆå®‰è£…OpenResty</h3><ul>
<li>å®‰è£…å¿…è¦çš„ä¾èµ–</li>
</ul>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install -y curl gnupg2 ca-certificates lsb-release</span><br></pre></td></tr></table></figure></div>

<ul>
<li>æ·»åŠ  OpenResty å®˜æ–¹ä»“åº“</li>
</ul>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://openresty.org/package/pubkey.gpg | <span class="built_in">sudo</span> gpg --dearmor -o /usr/share/keyrings/openresty-archive-keyring.gpg</span><br></pre></td></tr></table></figure></div>

<ul>
<li>æ·»åŠ  OpenResty çš„ä»“åº“åˆ° APT æºåˆ—è¡¨</li>
</ul>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/usr/share/keyrings/openresty-archive-keyring.gpg] http://openresty.org/package/debian <span class="subst">$(lsb_release -sc)</span> openresty&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/openresty.list</span><br></pre></td></tr></table></figure></div>

<ul>
<li>å®‰è£… OpenResty</li>
</ul>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install -y openresty</span><br></pre></td></tr></table></figure></div>

<ul>
<li>å¯åŠ¨å’Œé…ç½® OpenResty</li>
</ul>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start openresty</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> openresty</span><br></pre></td></tr></table></figure></div>

<h3 id="æ·»åŠ -streamæ¨¡å—"><a href="#æ·»åŠ -streamæ¨¡å—" class="headerlink" title="æ·»åŠ  streamæ¨¡å—"></a>æ·»åŠ  <code>stream</code>æ¨¡å—</h3><p>ç¼–è¾‘ <code>/etc/openresty/nginx.conf</code> æ–‡ä»¶ï¼Œæ·»åŠ  <code>stream</code> æ¨¡å—ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šstreamæ¨¡å—å’Œhttpæ¨¡å—åº”æ˜¯å¹³çº§å…³ç³»ã€‚</p>
</blockquote>
<div class="code-container" data-rel="Ini"><figure class="iseeu highlight ini"><table><tr><td class="code"><pre><span class="line">    stream &#123;</span><br><span class="line">        map $ssl_preread_server_name $backend_name &#123;</span><br><span class="line">            a.example.com Server_A<span class="comment">;</span></span><br><span class="line">            b.example.com Server_B<span class="comment">;</span></span><br><span class="line">            default web<span class="comment">;  #é»˜è®¤æƒ…å†µ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># web åç«¯æœåŠ¡</span></span><br><span class="line">        upstream web &#123;</span><br><span class="line">            server ã€ipã€‘:ã€portã€‘<span class="comment">; </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># Server_B åç«¯æœåŠ¡</span></span><br><span class="line">        upstream Server_B &#123;</span><br><span class="line">            server ã€ipã€‘:ã€portã€‘<span class="comment">; </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># Server_A åç«¯æœåŠ¡</span></span><br><span class="line">        upstream Server_A&#123;</span><br><span class="line">            server ã€ipã€‘:ã€portã€‘<span class="comment">; </span></span><br><span class="line">        &#125;</span><br><span class="line">        server &#123;</span><br><span class="line">            listen 443 <span class="comment">; </span></span><br><span class="line">            listen <span class="section">[::]</span>:443<span class="comment">; </span></span><br><span class="line">            proxy_pass $backend_name<span class="comment">; </span></span><br><span class="line">            ssl_preread on<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="ç«¯å£å¤ç”¨çš„åŸç†"><a href="#ç«¯å£å¤ç”¨çš„åŸç†" class="headerlink" title="ç«¯å£å¤ç”¨çš„åŸç†"></a>ç«¯å£å¤ç”¨çš„åŸç†</h4><p>è¯´åˆ°è¿™é‡Œï¼Œå°±ç®€å•çš„è¯´ä¸€ä¸‹åŸç†äº†ã€‚<code>stream</code> æ¨¡å—æ˜¯ OpenResty æä¾›çš„ä¸“é—¨ç”¨æ¥å¤„ç† TCP&#x2F;UDP åè®®çš„æ¨¡å—ï¼Œé€šè¿‡ <code>proxy_pass</code> æŒ‡ä»¤è½¬å‘è¯·æ±‚åˆ°å¯¹åº”çš„ <code>upstream</code> æ¨¡å—å³å¯ã€‚è€Œ <code>map</code> æŒ‡ä»¤åˆ™æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªæ˜ å°„å…³ç³»çš„ï¼Œé€šè¿‡ <code>map</code> æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå˜é‡æ˜ å°„åˆ°å¦ä¸€ä¸ªå˜é‡ï¼Œä»è€Œå®ç°ç«¯å£å¤ç”¨ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411102119223.jpg"
                     
                ></p>
<h4 id="åˆ†äº«ä¸€ä¸ªæµé‚¦å®šå‘å…æµæ–¹æ¡ˆ"><a href="#åˆ†äº«ä¸€ä¸ªæµé‚¦å®šå‘å…æµæ–¹æ¡ˆ" class="headerlink" title="åˆ†äº«ä¸€ä¸ªæµé‚¦å®šå‘å…æµæ–¹æ¡ˆ"></a>åˆ†äº«ä¸€ä¸ªæµé‚¦å®šå‘å…æµæ–¹æ¡ˆ</h4><p>æˆ‘ç”¨çš„æ˜¯Trojanåè®®è¿›è¡Œæµé‡è½¬å‘ï¼ŒTrojanåè®®æ˜¯ä½¿ç”¨TLSåŠ å¯†çš„ï¼Œä¸”æµé‚¦å…æµéœ€è¦ç”¨åˆ°443ç«¯å£ï¼Œè€Œç½‘ç«™httpsä¹Ÿéœ€è¦ç”¨åˆ°443ï¼Œåˆšå¥½ç¬¦åˆOpenRestyæŒ¡åœ¨å‰é¢æ¥åˆ†æµã€‚æ··æ·†ç”¨çš„æŠ–éŸ³ç³»åˆ—host <code>p26.douyinpic.com</code>ã€‚<code>è‡ªç­¾è¯ä¹¦</code>å’Œ<code>trojanæ­å»º</code>è¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<h4 id="OpenResty-é…ç½®"><a href="#OpenResty-é…ç½®" class="headerlink" title="OpenResty é…ç½®"></a>OpenResty é…ç½®</h4><blockquote>
<p>tips: å¦‚æœåŸæœ¬httpsç›‘å¬ç«¯å£ä¸º443ï¼Œéœ€è¦ä¿®æ”¹ä¸º8443ç«¯å£</p>
</blockquote>
<div class="code-container" data-rel="Ini"><figure class="iseeu highlight ini"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">   <span class="comment">#ä¿æŒé»˜è®¤</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stream &#123;</span><br><span class="line">    map $ssl_preread_server_name $backend_name &#123;</span><br><span class="line">        p26.douyinpic.com trojan<span class="comment">;</span></span><br><span class="line">        default web<span class="comment">; </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># web åç«¯æœåŠ¡</span></span><br><span class="line">    upstream web &#123;</span><br><span class="line">        server 127.0.0.1:8443<span class="comment">; </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># trajon åç«¯æœåŠ¡</span></span><br><span class="line">    upstream trojan&#123;</span><br><span class="line">        server 127.0.0.1:8083<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 443 <span class="comment">; </span></span><br><span class="line">        listen <span class="section">[::]</span>:443 <span class="comment">; </span></span><br><span class="line">        proxy_pass $backend_name<span class="comment">; </span></span><br><span class="line">        ssl_preread on<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    <span class="comment"># ä¿æŒé»˜è®¤å³å¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>OpenRestyçš„streamæ¨¡å—æ˜¯å·¥ä½œåœ¨ OSIæ¨¡å‹çš„(å››å±‚)ä¼ è¾“å±‚ï¼Œè€Œhttpæ¨¡å—æ˜¯å·¥ä½œåœ¨(ä¸ƒå±‚)åº”ç”¨å±‚ã€‚æ°å·§trojanæ˜¯åŸºäºTCPä¼ è¾“ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•æ¥å®ç°443ç«¯å£çš„å¤ç”¨ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411102140104.png"
                     
                ></p>
]]></content>
      <tags>
        <tag>OpenResty</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºå†…ç½‘éƒ¨ç½²GPT-SoVITSæœåŠ¡APIè°ƒç”¨æ–‡æ¡£</title>
    <url>/2024/10/19/67173d9409cf.html</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¿™ç¯‡æ–‡æ¡£æ˜¯APIè°ƒç”¨æ–‡æ¡£ï¼Œä»¥ä¾¿æŸ¥é˜…æ–¹ä¾¿å¹¶ä¸æ˜¯éƒ¨ç½²æ­å»ºæ•™ç¨‹ã€‚</p>
<h3 id="å®¢æˆ·ç«¯APIè°ƒç”¨"><a href="#å®¢æˆ·ç«¯APIè°ƒç”¨" class="headerlink" title="å®¢æˆ·ç«¯APIè°ƒç”¨"></a>å®¢æˆ·ç«¯APIè°ƒç”¨</h3><blockquote>
<p>ä»¥ä¸‹æ‰€æœ‰è¯·æ±‚HOSTå‡ä¸ºä¸‹åˆ—å†…ç½‘ï¼ŒGETå½¢å¼è¯·æŒ‰æ ‡å‡†è§„å®šæ¥æ‹¼æ¥URL</p>
</blockquote>
<ul>
<li><a class="link"   href="http://192.168.102.5:9880/" >http://192.168.102.5:9880/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h4 id="ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘"><a href="#ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘" class="headerlink" title="ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘"></a>ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>éœ€è¦è½¬è¯­éŸ³æ–‡æœ¬</td>
</tr>
<tr>
<td>text_language</td>
<td>ç›®æ ‡è¯­è¨€</td>
</tr>
</tbody></table>
<h6 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h6><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">text=å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&amp;text_language=zh</span><br></pre></td></tr></table></figure></div>
<h6 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h6><div class="code-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<h4 id="ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘å¹¶è®¾å®šåˆ†å‰²ç¬¦å·"><a href="#ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘å¹¶è®¾å®šåˆ†å‰²ç¬¦å·" class="headerlink" title="ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘å¹¶è®¾å®šåˆ†å‰²ç¬¦å·"></a>ä½¿ç”¨æ‰§è¡Œå‚æ•°æŒ‡å®šçš„å‚è€ƒéŸ³é¢‘å¹¶è®¾å®šåˆ†å‰²ç¬¦å·</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>éœ€è¦è½¬è¯­éŸ³æ–‡æœ¬</td>
</tr>
<tr>
<td>text_language</td>
<td>ç›®æ ‡è¯­è¨€</td>
</tr>
<tr>
<td>cut_punc</td>
<td>åˆ†å‰²å­—ç¬¦</td>
</tr>
</tbody></table>
<h4 id="GET-1"><a href="#GET-1" class="headerlink" title="GET"></a>GET</h4><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">text=å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&amp;text_language=zh&amp;cut_punc=ï¼Œã€‚</span><br></pre></td></tr></table></figure></div>
<h6 id="POST-1"><a href="#POST-1" class="headerlink" title="POST"></a>POST</h6><div class="code-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cut_punc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ï¼Œã€‚&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<h4 id="æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘"><a href="#æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘" class="headerlink" title="æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘"></a>æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>éœ€è¦è½¬è¯­éŸ³æ–‡æœ¬</td>
</tr>
<tr>
<td>text_language</td>
<td>ç›®æ ‡è¯­è¨€</td>
</tr>
<tr>
<td>cut_punc</td>
<td>åˆ†å‰²å­—ç¬¦</td>
</tr>
<tr>
<td>refer_wav_path</td>
<td>å‚è€ƒéŸ³é¢‘</td>
</tr>
<tr>
<td>prompt_text</td>
<td>éŸ³é¢‘å¯¹åº”æ–‡æœ¬</td>
</tr>
<tr>
<td>prompt_language</td>
<td>éŸ³é¢‘å¯¹åº”è¯­è¨€</td>
</tr>
</tbody></table>
<h6 id="GET-2"><a href="#GET-2" class="headerlink" title="GET"></a>GET</h6><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">refer_wav_path=123.wav&amp;prompt_text=ä¸€äºŒä¸‰ã€‚&amp;prompt_language=zh&amp;text=å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&amp;text_language=zh&amp;cut_punc=ï¼Œã€‚</span><br></pre></td></tr></table></figure></div>
<h6 id="POST-2"><a href="#POST-2" class="headerlink" title="POST"></a>POST</h6><div class="code-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;refer_wav_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123.wav&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;prompt_text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸€äºŒä¸‰ã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;prompt_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cut_punc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ï¼Œã€‚&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li>æˆåŠŸ: ç›´æ¥è¿”å› wav éŸ³é¢‘æµï¼Œ http code 200</li>
<li>å¤±è´¥: è¿”å›åŒ…å«é”™è¯¯ä¿¡æ¯çš„ json, http code 400</li>
</ul>
<h4 id="æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘ï¼Œå¹¶æä¾›å‚æ•°"><a href="#æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘ï¼Œå¹¶æä¾›å‚æ•°" class="headerlink" title="æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘ï¼Œå¹¶æä¾›å‚æ•°"></a>æ‰‹åŠ¨æŒ‡å®šå½“æ¬¡æ¨ç†æ‰€ä½¿ç”¨çš„å‚è€ƒéŸ³é¢‘ï¼Œå¹¶æä¾›å‚æ•°</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>éœ€è¦è½¬è¯­éŸ³æ–‡æœ¬</td>
</tr>
<tr>
<td>text_language</td>
<td>ç›®æ ‡è¯­è¨€</td>
</tr>
<tr>
<td>cut_punc</td>
<td>åˆ†å‰²å­—ç¬¦</td>
</tr>
<tr>
<td>refer_wav_path</td>
<td>å‚è€ƒéŸ³é¢‘</td>
</tr>
<tr>
<td>prompt_text</td>
<td>éŸ³é¢‘å¯¹åº”æ–‡æœ¬</td>
</tr>
<tr>
<td>prompt_language</td>
<td>éŸ³é¢‘å¯¹åº”è¯­è¨€</td>
</tr>
<tr>
<td>top_k</td>
<td>åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­ä»å‰ k ä¸ªæœ€å¯èƒ½çš„å€™é€‰é¡¹ä¸­è¿›è¡Œé€‰æ‹©</td>
</tr>
<tr>
<td>top_p</td>
<td>è¡¨ç¤ºé€‰æ‹©å€™é€‰è¯çš„ç´¯ç§¯æ¦‚ç‡é˜ˆå€¼</td>
</tr>
<tr>
<td>temperature</td>
<td>æ§åˆ¶ç”Ÿæˆç»“æœçš„éšæœºæ€§</td>
</tr>
<tr>
<td>speed</td>
<td>æ§åˆ¶æ’­æ”¾é€Ÿåº¦</td>
</tr>
<tr>
<td>inp_refs</td>
<td>éŸ³é¢‘æ–‡ä»¶è·¯å¾„çš„æ•°ç»„</td>
</tr>
</tbody></table>
<h6 id="GET-3"><a href="#GET-3" class="headerlink" title="GET"></a>GET</h6><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">refer_wav_path=123.wav&amp;prompt_text=ä¸€äºŒä¸‰ã€‚&amp;prompt_language=zh&amp;text=å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&amp;text_language=zh&amp;cut_punc=ï¼Œã€‚&amp;top_k=20&amp;top_p=0.6&amp;temperature=0.6&amp;speed=1&amp;inp_refs=&quot;456.wav&quot;&amp;inp_refs=&quot;789.wav</span><br></pre></td></tr></table></figure></div>
<h6 id="POST-3"><a href="#POST-3" class="headerlink" title="POST"></a>POST</h6><div class="code-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;refer_wav_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123.wav&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;prompt_text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸€äºŒä¸‰ã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;prompt_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¤©å§¥è¿å¤©å‘å¤©æ¨ªï¼ŒåŠ¿æ‹”äº”å²³æ©èµ¤åŸã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;text_language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cut_punc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ï¼Œã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;top_k&quot;</span><span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;top_p&quot;</span><span class="punctuation">:</span> <span class="number">0.6</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;temperature&quot;</span><span class="punctuation">:</span> <span class="number">0.6</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;speed&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;inp_refs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;456.wav&quot;</span><span class="punctuation">,</span><span class="string">&quot;789.wav&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li>æˆåŠŸ: ç›´æ¥è¿”å› wav éŸ³é¢‘æµï¼Œ http code 200</li>
<li>å¤±è´¥: è¿”å›åŒ…å«é”™è¯¯ä¿¡æ¯çš„ json, http code 400</li>
</ul>
<h4 id="ç®€å•çš„Axiosè°ƒç”¨ç¤ºä¾‹"><a href="#ç®€å•çš„Axiosè°ƒç”¨ç¤ºä¾‹" class="headerlink" title="ç®€å•çš„Axiosè°ƒç”¨ç¤ºä¾‹"></a>ç®€å•çš„Axiosè°ƒç”¨ç¤ºä¾‹</h4><blockquote>
<p>éœ€è¦ffmpegç¯å¢ƒæ”¯æŒï¼Œè¯·è‡ªè¡Œå®‰è£…</p>
</blockquote>
<div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Speaker</span> = <span class="built_in">require</span>(<span class="string">&#x27;speaker&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> ffmpeg = <span class="built_in">require</span>(<span class="string">&#x27;fluent-ffmpeg&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º Speaker å®ä¾‹æ¥æ’­æ”¾è§£ç åçš„ PCM éŸ³é¢‘æµ</span></span><br><span class="line"><span class="keyword">const</span> speaker = <span class="keyword">new</span> <span class="title class_">Speaker</span>(&#123;</span><br><span class="line">    <span class="attr">channels</span>: <span class="number">2</span>,          <span class="comment">// ç«‹ä½“å£°</span></span><br><span class="line">    <span class="attr">bitDepth</span>: <span class="number">16</span>,         <span class="comment">// 16 ä½</span></span><br><span class="line">    <span class="attr">sampleRate</span>: <span class="number">44100</span>     <span class="comment">// 44.1kHz é‡‡æ ·ç‡</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æµå¼éŸ³é¢‘å¹¶å¤„ç†çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">streamOggAudio</span> = <span class="keyword">async</span> (<span class="params">url</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">            <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">            <span class="attr">url</span>: url,</span><br><span class="line">            <span class="attr">responseType</span>: <span class="string">&#x27;stream&#x27;</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¼€å§‹ffmpegæµå¼è½¬æ¢æ ¼å¼ï¼ŒOGG-&gt;PCM&quot;</span>)</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ FFmpeg è½¬æ¢ OGG æµå¹¶æ’­æ”¾</span></span><br><span class="line">        <span class="title function_">ffmpeg</span>(response.<span class="property">data</span>)</span><br><span class="line">            .<span class="title function_">format</span>(<span class="string">&#x27;s16le&#x27;</span>) <span class="comment">// æŒ‡å®šè¾“å‡ºæ ¼å¼ä¸º PCM</span></span><br><span class="line">            .<span class="title function_">audioChannels</span>(<span class="number">2</span>) <span class="comment">// è®¾ç½®ä¸ºç«‹ä½“å£°</span></span><br><span class="line">            .<span class="title function_">audioFrequency</span>(<span class="number">44100</span>) <span class="comment">// è®¾ç½®é‡‡æ ·ç‡ä¸º 44.1kHz</span></span><br><span class="line">            .<span class="title function_">pipe</span>(speaker, &#123; <span class="attr">end</span>: <span class="literal">true</span> &#125;) <span class="comment">// å°†è½¬æ¢åçš„éŸ³é¢‘æµä¼ é€’ç»™ Speaker</span></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error streaming audio:&#x27;</span>, error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> text = <span class="string">`å…ˆå¸åˆ›ä¸šæœªåŠè€Œä¸­é“å´©æ®‚ï¼Œä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²å¼Šï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿã€‚`</span></span><br><span class="line"><span class="keyword">const</span> audioUrl = <span class="string">`http://192.168.102.5:9880?text=<span class="subst">$&#123;text&#125;</span>&amp;text_language=zh`</span>;</span><br><span class="line">!(<span class="title function_">async</span> ()=&gt;&#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">streamOggAudio</span>(audioUrl);</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h3><h4 id="api-py-å¯åŠ¨å‚æ•°åˆ—è¡¨"><a href="#api-py-å¯åŠ¨å‚æ•°åˆ—è¡¨" class="headerlink" title="api.py å¯åŠ¨å‚æ•°åˆ—è¡¨"></a>api.py å¯åŠ¨å‚æ•°åˆ—è¡¨</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
<th>å¯é€‰å€¼</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>-s</td>
<td>SoVITSæ¨¡å‹è·¯å¾„</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>config.pyä¸­æŒ‡å®š</td>
</tr>
<tr>
<td>-g</td>
<td>GPTæ¨¡å‹è·¯å¾„</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>config.pyä¸­æŒ‡å®š</td>
</tr>
<tr>
<td>-dr</td>
<td>é»˜è®¤å‚è€ƒéŸ³é¢‘è·¯å¾„</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>-dr â€œwavs&#x2F;1.wavâ€</td>
</tr>
<tr>
<td>-dt</td>
<td>é»˜è®¤å‚è€ƒéŸ³é¢‘æ–‡æœ¬</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>-dt â€œä½ å¥½ï¼Œæˆ‘æ˜¯å¤§ç™½â€</td>
</tr>
<tr>
<td>-dl</td>
<td>é»˜è®¤å‚è€ƒéŸ³é¢‘è¯­ç§</td>
<td>â€œzhâ€,â€enâ€,â€jaâ€,â€koâ€,â€yueâ€</td>
<td>-dl â€œzhâ€</td>
</tr>
<tr>
<td>-d</td>
<td>æ¨ç†è®¾å¤‡</td>
<td>â€œcudaâ€,â€cpuâ€</td>
<td>-d â€œcpuâ€</td>
</tr>
<tr>
<td>-a</td>
<td>ç›‘å¬åœ°å€</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>-a â€œ0.0.0.0â€</td>
</tr>
<tr>
<td>-p</td>
<td>ç›‘å¬ç«¯å£</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td>-p 9880</td>
</tr>
<tr>
<td>-fp</td>
<td>è¦†ç›– config.py ä½¿ç”¨å…¨ç²¾åº¦</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td></td>
</tr>
<tr>
<td>-hp</td>
<td>è¦†ç›– config.py ä½¿ç”¨åŠç²¾åº¦</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td></td>
</tr>
<tr>
<td>-sm</td>
<td>å¼è¿”å›æ¨¡å¼, é»˜è®¤ä¸å¯ç”¨</td>
<td>â€œcâ€,â€nâ€</td>
<td>-sm â€œnâ€</td>
</tr>
<tr>
<td>-mt</td>
<td>è¿”å›çš„éŸ³é¢‘ç¼–ç æ ¼å¼, æµå¼é»˜è®¤ogg, éæµå¼é»˜è®¤wav</td>
<td>â€œwavâ€, â€œoggâ€, â€œaacâ€</td>
<td>-mt â€œoggâ€</td>
</tr>
<tr>
<td>-st</td>
<td>è¿”å›çš„éŸ³é¢‘æ•°æ®ç±»å‹, é»˜è®¤int16</td>
<td>â€œint16â€, â€œint32â€</td>
<td>-st â€œint32â€</td>
</tr>
<tr>
<td>-cp</td>
<td>æ–‡æœ¬åˆ‡åˆ†ç¬¦å·è®¾å®š, é»˜è®¤ä¸ºç©º</td>
<td>â€œ,.ï¼Œã€‚â€</td>
<td>-cp â€œ,.ï¼Œã€‚â€</td>
</tr>
<tr>
<td>-hb</td>
<td>cnhubertè·¯å¾„</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td></td>
</tr>
<tr>
<td>-b</td>
<td>bertè·¯å¾„</td>
<td>ä¾æ®å®é™…éœ€æ±‚</td>
<td></td>
</tr>
</tbody></table>
<h3 id="è¿è¡Œå‰å‡†å¤‡"><a href="#è¿è¡Œå‰å‡†å¤‡" class="headerlink" title="è¿è¡Œå‰å‡†å¤‡"></a>è¿è¡Œå‰å‡†å¤‡</h3><h4 id="debian-ubuntu-å®‰è£…screen"><a href="#debian-ubuntu-å®‰è£…screen" class="headerlink" title="debian&#x2F;ubuntu å®‰è£…screen"></a>debian&#x2F;ubuntu å®‰è£…screen</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install screen -y</span><br></pre></td></tr></table></figure></div>
<h4 id="æ–°å»ºscreen"><a href="#æ–°å»ºscreen" class="headerlink" title="æ–°å»ºscreen"></a>æ–°å»ºscreen</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">screen -S GPTSoVits</span><br></pre></td></tr></table></figure></div>
<h4 id="æ¿€æ´»condaç¯å¢ƒ"><a href="#æ¿€æ´»condaç¯å¢ƒ" class="headerlink" title="æ¿€æ´»condaç¯å¢ƒ"></a>æ¿€æ´»condaç¯å¢ƒ</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">conda activate GPTSoVits</span><br></pre></td></tr></table></figure></div>
<h4 id="æœåŠ¡ç«¯å¯åŠ¨ç¤ºä¾‹"><a href="#æœåŠ¡ç«¯å¯åŠ¨ç¤ºä¾‹" class="headerlink" title="æœåŠ¡ç«¯å¯åŠ¨ç¤ºä¾‹"></a>æœåŠ¡ç«¯å¯åŠ¨ç¤ºä¾‹</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">python api.py -dr &quot;wavs/1.wav&quot; -dt &quot;å¤§å®¶ä¹Ÿå«æˆ‘ä¸‰æœˆã€å°ä¸‰æœˆâ€¦ä½ å‘¢ï¼Ÿä½ æƒ³å«æˆ‘ä»€ä¹ˆï¼Ÿ&quot; -dl &quot;zh&quot; -d &quot;cpu&quot; -a &quot;0.0.0.0&quot; -p 9880 -sm &quot;n&quot; -cp &quot;,.ï¼Œã€‚&quot;</span><br></pre></td></tr></table></figure></div>
<h4 id="ä¿å­˜screenä¼šè¯"><a href="#ä¿å­˜screenä¼šè¯" class="headerlink" title="ä¿å­˜screenä¼šè¯"></a>ä¿å­˜screenä¼šè¯</h4><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ctrl+a+d</span><br></pre></td></tr></table></figure></div>
<h4 id="æŸ¥çœ‹ç›‘å¬ç«¯å£ä¿¡æ¯"><a href="#æŸ¥çœ‹ç›‘å¬ç«¯å£ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç›‘å¬ç«¯å£ä¿¡æ¯"></a>æŸ¥çœ‹ç›‘å¬ç«¯å£ä¿¡æ¯</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">netstat -anp | grep 9880</span><br></pre></td></tr></table></figure></div>
<h4 id="å¼€æ”¾é˜²ç«å¢™ç«¯å£"><a href="#å¼€æ”¾é˜²ç«å¢™ç«¯å£" class="headerlink" title="å¼€æ”¾é˜²ç«å¢™ç«¯å£"></a>å¼€æ”¾é˜²ç«å¢™ç«¯å£</h4><div class="code-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ufw allow 9880</span><br></pre></td></tr></table></figure></div>]]></content>
      <tags>
        <tag>GPT-SoVIIS</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºDNSè§£æåˆ†æµå®ç°CDNå›½å†…å¤–åŠ é€Ÿä¸é˜²å¾¡</title>
    <url>/2024/04/02/a5caa24dd309.html</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œç½‘ç«™éƒ¨ç½²åœ¨å¢ƒå†…æœåŠ¡å™¨ä¸Šï¼Œå¢ƒå¤–ç”¨æˆ·è®¿é—®æ€»ä¼šå‡ºä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„åŸå› ã€‚å†è€…ï¼Œç»å¤§å¤šæ•°å¯¹æœåŠ¡å™¨çš„æ¶æ„æ”»å‡»éƒ½æ¥è‡ªå¢ƒå¤–IPï¼Œä¸ºäº†å®ç°ç½‘ç«™é˜²æŠ¤ï¼ŒåŒæ—¶æå‡å›½å†…å¤–ç”¨æˆ·ä½“éªŒæ„Ÿï¼Œç‰¹ä»¥æ­¤æ–‡è®°å½•ï¼Œä»¥å¤‡åç»­å‚è€ƒã€‚</p>
<h3 id="æ•´ä½“æµç¨‹"><a href="#æ•´ä½“æµç¨‹" class="headerlink" title="#æ•´ä½“æµç¨‹"></a>#æ•´ä½“æµç¨‹</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/3780368673.png"
                      alt="Snipaste_2024-04-02_16-58-39.png"
                ></p>
<h3 id="1-å…³äºCDN"><a href="#1-å…³äºCDN" class="headerlink" title="1. å…³äºCDN"></a>1. å…³äºCDN</h3><h4 id="1-1-ä»€ä¹ˆæ˜¯CDN"><a href="#1-1-ä»€ä¹ˆæ˜¯CDN" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯CDN"></a>1.1 ä»€ä¹ˆæ˜¯CDN</h4><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰æ˜¯ä¸€ä¸ªäº’è¿æœåŠ¡å™¨ç½‘ç»œï¼Œå¯åŠ å¿«æ•°æ®å¯†é›†å‹åº”ç”¨ç¨‹åºçš„ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚CDN å¯ä»¥è¡¨ç¤ºå†…å®¹åˆ†å‘ç½‘ç»œæˆ–å†…å®¹åˆ†é…ç½‘ç»œã€‚å½“ç”¨æˆ·è®¿é—®æŸä¸ªç½‘ç«™æ—¶ï¼Œæ¥è‡ªè¯¥ç½‘ç«™æœåŠ¡å™¨çš„æ•°æ®å¿…é¡»é€šè¿‡äº’è”ç½‘ä¼ è¾“åˆ°ç”¨æˆ·çš„è®¡ç®—æœºã€‚å¦‚æœç”¨æˆ·è·ç¦»è¯¥æœåŠ¡å™¨è¾ƒè¿œï¼Œåˆ™åŠ è½½å¤§æ–‡ä»¶ï¼ˆä¾‹å¦‚è§†é¢‘æˆ–ç½‘ç«™å›¾åƒï¼‰å°†éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚ç›¸åï¼Œå¦‚æœç½‘ç«™å†…å®¹å­˜å‚¨åœ¨è·ç¦»ç”¨æˆ·è¾ƒè¿‘çš„ CDN æœåŠ¡å™¨ä¸Šï¼Œå°±å¯ä»¥æ›´å¿«åˆ°è¾¾ä»–ä»¬çš„è®¡ç®—æœºã€‚</p>
<h4 id="1-2-ä¸ºä»€ä¹ˆCDNå¾ˆé‡è¦"><a href="#1-2-ä¸ºä»€ä¹ˆCDNå¾ˆé‡è¦" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆCDNå¾ˆé‡è¦"></a>1.2 ä¸ºä»€ä¹ˆCDNå¾ˆé‡è¦</h4><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰çš„ä¸»è¦ç›®çš„æ˜¯å‡å°‘å»¶è¿Ÿï¼Œæˆ–å‡å°‘ç”±ç½‘ç»œè®¾è®¡é€ æˆçš„é€šä¿¡å»¶è¿Ÿã€‚ç”±äºäº’è”ç½‘çš„å…¨çƒæ€§å’Œå¤æ‚æ€§ï¼Œç½‘ç«™ï¼ˆæœåŠ¡å™¨ï¼‰ä¸å…¶ç”¨æˆ·ï¼ˆå®¢æˆ·ç«¯ï¼‰ä¹‹é—´çš„é€šä¿¡æµé‡å¿…é¡»è·¨è¶Šå¾ˆé•¿çš„ç‰©ç†è·ç¦»ã€‚é€šä¿¡ä¹Ÿæ˜¯åŒå‘çš„ï¼Œä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”ã€‚CDN é€šè¿‡åœ¨å®¢æˆ·ç«¯å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´å¼•å…¥ä¸­é—´æœåŠ¡å™¨æ¥æé«˜æ•ˆç‡ã€‚è¿™äº› CDN æœåŠ¡å™¨å°†ç®¡ç†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¸€äº›é€šä¿¡ã€‚å®ƒä»¬å¯ä»¥é™ä½ä¼ é€åˆ° Web æœåŠ¡å™¨çš„ Web æµé‡ã€å‡å°‘å¸¦å®½æ¶ˆè€—ï¼Œå¹¶æ”¹å–„åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h4 id="1-3-CDNçš„ä¼˜åŠ¿æœ‰å“ªäº›"><a href="#1-3-CDNçš„ä¼˜åŠ¿æœ‰å“ªäº›" class="headerlink" title="1.3 CDNçš„ä¼˜åŠ¿æœ‰å“ªäº›"></a>1.3 CDNçš„ä¼˜åŠ¿æœ‰å“ªäº›</h4><blockquote>
<p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰å…·æœ‰ä¼—å¤šä¼˜åŠ¿ï¼Œå¯ä»¥æé«˜ç½‘ç«™æ€§èƒ½å¹¶æ”¯æŒæ ¸å¿ƒç½‘ç»œåŸºç¡€è®¾æ–½ã€‚</p>
</blockquote>
<p>**åŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ **</p>
<p>å¦‚æœæ‚¨çš„é¡µé¢åŠ è½½é€Ÿåº¦å¤ªæ…¢ï¼Œç½‘ç«™æµé‡å¯èƒ½ä¼šå‡å°‘ã€‚CDN å¯ä»¥é™ä½è·³å‡ºç‡å¹¶å¢åŠ ç”¨æˆ·åœ¨æ‚¨ç½‘ç«™ä¸Šåœç•™çš„æ—¶é—´ã€‚</p>
<p><strong>é™ä½å¸¦å®½æˆæœ¬</strong></p>
<p>å¸¦å®½æˆæœ¬æ˜¯ä¸€ç¬”å·¨å¤§çš„å¼€æ”¯ï¼Œå› ä¸ºæ¯ä¸ªä¼ å…¥çš„ç½‘ç«™è¯·æ±‚éƒ½ä¼šæ¶ˆè€—ç½‘ç»œå¸¦å®½ã€‚é€šè¿‡ç¼“å­˜å’Œå…¶ä»–ä¼˜åŒ–ï¼ŒCDN å¯ä»¥å‡å°‘åŸå§‹æœåŠ¡å™¨å¿…é¡»æä¾›çš„æ•°æ®é‡ï¼Œä»è€Œé™ä½ç½‘ç«™æ‰€æœ‰è€…çš„æ‰˜ç®¡æˆæœ¬ã€‚</p>
<p><strong>æé«˜å†…å®¹å¯ç”¨æ€§</strong></p>
<p>åŒä¸€æ—¶é—´çš„è®¿å®¢è¿‡å¤šæˆ–ç½‘ç»œç¡¬ä»¶æ•…éšœå¯èƒ½ä¼šå¯¼è‡´ç½‘ç«™å´©æºƒã€‚CDN æœåŠ¡å¯ä»¥å¤„ç†æ›´å¤š Web æµé‡å¹¶é™ä½ Web æœåŠ¡å™¨çš„è´Ÿè½½ã€‚æ­¤å¤–ï¼Œå¦‚æœä¸€å°æˆ–å¤šå° CDN æœåŠ¡å™¨ç¦»çº¿ï¼Œå…¶ä»–è¿è¥æœåŠ¡å™¨å¯ä»¥æ›¿æ¢å®ƒä»¬ï¼Œä»¥ç¡®ä¿æœåŠ¡ä¸ä¸­æ–­ã€‚</p>
<p><strong>æé«˜ç½‘ç«™å®‰å…¨æ€§</strong></p>
<p>åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼ˆDDoSï¼‰æ”»å‡»è¯•å›¾é€šè¿‡å‘ç½‘ç«™å‘é€å¤§é‡è™šå‡æµé‡æ¥å…³é—­åº”ç”¨ç¨‹åºã€‚CDN å¯ä»¥é€šè¿‡åœ¨å¤šä¸ªä¸­é—´æœåŠ¡å™¨ä¹‹é—´åˆ†é…è´Ÿè½½æ¥å¤„ç†æ­¤ç±»æµé‡å³°å€¼ï¼Œä»è€Œé™ä½å¯¹åŸå§‹æœåŠ¡å™¨çš„å½±å“ã€‚</p>
<h4 id="1-4-å¸¸è§CDNæä¾›å•†"><a href="#1-4-å¸¸è§CDNæä¾›å•†" class="headerlink" title="1.4 å¸¸è§CDNæä¾›å•†"></a>1.4 å¸¸è§CDNæä¾›å•†</h4><p><strong>å›½å†…</strong></p>
<p>é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€åˆæ‹äº‘ã€ä¸ƒç‰›äº‘ç­‰ç­‰</p>
<p><strong>å›½å¤–</strong></p>
<p>CloudFlareï¼ˆä»¥ä¸‹ç®€ç§°CFï¼‰ç­‰ç­‰</p>
<p><strong>tips:</strong></p>
<blockquote>
<p>ç¬”è€…ç”¨çš„<strong>åˆæ‹äº‘</strong>ï¼ˆäº‘è”ç›Ÿå…è´¹ï¼‰+ <strong>CloudFlare</strong>ï¼ˆä¸ªäººç”¨æˆ·å…è´¹ï¼‰</p>
</blockquote>
<h3 id="2-å‰æœŸå‡†å¤‡"><a href="#2-å‰æœŸå‡†å¤‡" class="headerlink" title="2. å‰æœŸå‡†å¤‡"></a>2. å‰æœŸå‡†å¤‡</h3><ul>
<li><strong>åŸŸå</strong></li>
</ul>
<p>åŸŸåéœ€è¦å‡†å¤‡ä¸¤ä¸ªï¼Œä¸€ä¸ªå¤‡æ¡ˆï¼Œä¸€ä¸ªä¸å¤‡æ¡ˆã€‚</p>
<ul>
<li><strong>äº‘æœåŠ¡å™¨</strong></li>
</ul>
<p>æ­å»ºå¿…é¡»çš„è¿è¡Œç¯å¢ƒå¹¶éƒ¨ç½²ç½‘ç«™ã€‚</p>
<ul>
<li><strong>åŸŸåè§£æç®¡ç†</strong></li>
</ul>
<p>è´Ÿè´£åŸŸåçš„è§£æï¼ˆç¬”è€…ç”¨çš„é˜¿é‡Œä¸‡ç½‘DNSè§£æï¼‰</p>
<ul>
<li><strong>CloudFlareè´¦å·</strong></li>
</ul>
<p>å°†æœªå¤‡æ¡ˆçš„åŸŸåæ·»åŠ åˆ°CFå¹¶è§£æã€‚</p>
<h3 id="3-é…ç½®å›½å†…CDN"><a href="#3-é…ç½®å›½å†…CDN" class="headerlink" title="3. é…ç½®å›½å†…CDN"></a>3. é…ç½®å›½å†…CDN</h3><h4 id="3-1-åˆ›å»ºCDNæœåŠ¡"><a href="#3-1-åˆ›å»ºCDNæœåŠ¡" class="headerlink" title="3.1 åˆ›å»ºCDNæœåŠ¡"></a>3.1 åˆ›å»ºCDNæœåŠ¡</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/3765866439.png"
                      alt="Snipaste_2024-04-02_14-52-41.png"
                ></p>
<h4 id="3-2-å°†åŸŸåè§£æåˆ°CDN"><a href="#3-2-å°†åŸŸåè§£æåˆ°CDN" class="headerlink" title="3.2 å°†åŸŸåè§£æåˆ°CDN"></a>3.2 å°†åŸŸåè§£æåˆ°CDN</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/4020552366.png"
                      alt="Snipaste_2024-04-02_14-57-21.png"
                ></p>
<h4 id="3-3-é…ç½®HTTPS"><a href="#3-3-é…ç½®HTTPS" class="headerlink" title="3.3 é…ç½®HTTPS"></a>3.3 é…ç½®HTTPS</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/544052555.png"
                      alt="Snipaste_2024-04-02_15-00-52.png"
                ></p>
<h4 id="3-4-æ£€æµ‹é…ç½®ç»“æœ"><a href="#3-4-æ£€æµ‹é…ç½®ç»“æœ" class="headerlink" title="3.4 æ£€æµ‹é…ç½®ç»“æœ"></a>3.4 æ£€æµ‹é…ç½®ç»“æœ</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/2369516591.png"
                      alt="Snipaste_2024-04-02_15-04-40.png"
                ></p>
<h3 id="4-é…ç½®å›½å¤–CDN"><a href="#4-é…ç½®å›½å¤–CDN" class="headerlink" title="4. é…ç½®å›½å¤–CDN"></a>4. é…ç½®å›½å¤–CDN</h3><h4 id="4-1-è§£ææœªå¤‡æ¡ˆåŸŸååˆ°CF"><a href="#4-1-è§£ææœªå¤‡æ¡ˆåŸŸååˆ°CF" class="headerlink" title="4.1 è§£ææœªå¤‡æ¡ˆåŸŸååˆ°CF"></a>4.1 è§£ææœªå¤‡æ¡ˆåŸŸååˆ°CF</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/3705857194.png"
                      alt="Snipaste_2024-04-02_15-10-12.png"
                ></p>
<h4 id="4-2-é…ç½®DNSè§£æ"><a href="#4-2-é…ç½®DNSè§£æ" class="headerlink" title="4.2 é…ç½®DNSè§£æ"></a>4.2 é…ç½®DNSè§£æ</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/1298590996.png"
                      alt="Snipaste_2024-04-02_15-16-03.png"
                ></p>
<h4 id="4-3-æ·»åŠ è‡ªå®šä¹‰ä¸»æœºå"><a href="#4-3-æ·»åŠ è‡ªå®šä¹‰ä¸»æœºå" class="headerlink" title="4.3 æ·»åŠ è‡ªå®šä¹‰ä¸»æœºå"></a>4.3 æ·»åŠ è‡ªå®šä¹‰ä¸»æœºå</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/1921466730.png"
                      alt="Snipaste_2024-04-02_15-24-08.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/1192126118.png"
                      alt="Snipaste_2024-04-02_15-26-10.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/1682049828.png"
                      alt="Snipaste_2024-04-02_15-30-32.png"
                ></p>
<h4 id="4-4-é…ç½®SSLç›¸å…³é€‰é¡¹"><a href="#4-4-é…ç½®SSLç›¸å…³é€‰é¡¹" class="headerlink" title="4.4 é…ç½®SSLç›¸å…³é€‰é¡¹"></a>4.4 é…ç½®SSLç›¸å…³é€‰é¡¹</h4><p>è¿™ä¸€éƒ¨åˆ†ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é€‰æ‹©ï¼Œç¬”è€…è¿™é‡Œå¼€å¯çš„é€‰é¡¹ä»…ä¾›å¤§å®¶å‚è€ƒã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/614848999.png"
                      alt="Snipaste_2024-04-02_15-37-28.png"
                ></p>
<h3 id="5-é…ç½®åˆ†æµ"><a href="#5-é…ç½®åˆ†æµ" class="headerlink" title="5. é…ç½®åˆ†æµ"></a>5. é…ç½®åˆ†æµ</h3><h4 id="5-1-é…ç½®DNS"><a href="#5-1-é…ç½®DNS" class="headerlink" title="5.1 é…ç½®DNS"></a>5.1 é…ç½®DNS</h4><p>tipsï¼š</p>
<blockquote>
<p>ç¬”è€…ä½¿ç”¨çš„é˜¿é‡Œä¸‡ç½‘æ¥è§£æçš„DNSè®°å½•</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/582320550.png"
                      alt="Snipaste_2024-04-02_16-30-38.png"
                ></p>
<h4 id="5-2-æ£€æµ‹æ˜¯å¦ç”Ÿæ•ˆ"><a href="#5-2-æ£€æµ‹æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="5.2 æ£€æµ‹æ˜¯å¦ç”Ÿæ•ˆ"></a>5.2 æ£€æµ‹æ˜¯å¦ç”Ÿæ•ˆ</h4><p>ç¬”è€…åˆ†åˆ«ä½¿ç”¨å›½å†…å’Œå›½å¤–æœåŠ¡å™¨è¿›è¡Œdnsè®°å½•è§£ææŸ¥çœ‹åˆ†æµæ˜¯å¦ç”Ÿæ•ˆ</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">nslookup blog.inik.cc</span><br></pre></td></tr></table></figure></div>

<p>Tips:</p>
<blockquote>
<p>yum -y install bind-utils (å¦‚æœä»¥ä¸Šå‘½ä»¤æŠ¥é”™è¯·å…ˆå®‰è£…å¿…è¦çš„å·¥å…·ã€ŒCentosä¸‹ã€)</p>
</blockquote>
<p>å›½å†…ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/650752115.png"
                      alt="Snipaste_2024-04-02_16-39-41.png"
                ></p>
<p>å›½å¤–ï¼š</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/3522988742.png"
                      alt="Snipaste_2024-04-02_16-40-16.png"
                ></p>
<p>ä»ä¸Šé¢çš„è®°å½•å¯ä»¥çœ‹åˆ°ï¼Œåˆ†æµå·²ç»ç”Ÿæ•ˆäº†ï¼Œå¢ƒå†…æ¥æºçš„IPä¼šè¢«è°ƒåº¦åˆ°åˆæ‹äº‘CDNä¸Šï¼Œå¢ƒå¤–æ¥æºIPä¼šè¢«è°ƒåº¦åˆ°CloudFlareä¸Šã€‚</p>
<h3 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h3><p>è‡³æ­¤æˆ‘ä»¬çš„ç½‘ç«™å°±æ¥å…¥å®Œæˆäº†ï¼Œå®ç°äº†å›½å†…å¤–åŒåŠ é€Ÿã€‚</p>
]]></content>
      <tags>
        <tag>CDN Cloudflare</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºåŸºäºPicGO+Githubçš„å›¾åºŠå¹¶é…ç½®å›½å†…åŠ é€Ÿ</title>
    <url>/2024/11/07/b51ef04e4811.html</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œç”¨Githubåšå›¾åºŠçš„å¥½å¤„å°±æ˜¯æ•°æ®å¯ä»¥å®ç°æ°¸ä¹…åŒ–å­˜å‚¨ä¸”ç›®å‰å®¹é‡æ— é™åˆ¶ï¼Œä¸è¿‡ä¹Ÿæœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯åœ¨å›½å†…è®¿é—®é€Ÿåº¦éå¸¸éå¸¸éå¸¸æ…¢ï¼Œè€Œä¸”ç»å¸¸è¢«å¢™ã€‚æœ¬æ–‡å°†æä¾›ä¸€ä¸ªåŸºäºPicGo+Githubçš„å›¾åºŠæ­å»ºæ–¹æ¡ˆï¼Œå¹¶åº”ç”¨ <code>èµ›åšè©è¨</code>ï¼ˆCloudfalre CDNåŠ é€Ÿï¼‰åŒæ—¶é…ç½®å›½å†…å¤–åŠ é€Ÿï¼Œä»¥è§£å†³å›½å†…è®¿é—®é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚</p>
<h3 id="å‡†å¤‡æ¡ä»¶"><a href="#å‡†å¤‡æ¡ä»¶" class="headerlink" title="å‡†å¤‡æ¡ä»¶"></a>å‡†å¤‡æ¡ä»¶</h3><ul>
<li>ä¸€ä¸ªPicGoå®¢æˆ·ç«¯</li>
<li>ä¸€ä¸ªGithubè´¦å·</li>
<li>ä¸€ä¸ªCloudflareè´¦å·</li>
<li>ä¸€ä¸ªAåŸŸåï¼ˆå¤‡æ¡ˆä¸å¦éƒ½ä¸å½±å“ï¼‰(æˆ‘çš„AåŸŸåæ˜¯<code>sbsbsbs.sbs</code>)</li>
<li>ä¸€ä¸ªBåŸŸåï¼ˆå¤‡æ¡ˆä¸å¦éƒ½ä¸å½±å“ï¼‰(æˆ‘çš„BåŸŸåæ˜¯<code>cdn.inik.cc</code>)</li>
</ul>
<h2 id="è®¾ç½®Github"><a href="#è®¾ç½®Github" class="headerlink" title="è®¾ç½®Github"></a>è®¾ç½®Github</h2><p>åœ¨Githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œä»“åº“åéšæ„ï¼Œæ¯”å¦‚<code>picgo</code>ï¼Œç„¶åæŠŠä»“åº“è®¾ç½®ä¸ºå…¬å¼€ã€‚å¹¶åˆ›å»ºä¸€ä¸ªç”¨äºPicGOå’ŒGithubé€šä¿¡çš„Tokenï¼Œå°†å›¾ç‰‡æ¨é€åˆ°GitHubã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä»“åº“æƒé™å¿…é¡»ä¸ºå…¬å¼€ï¼Œä¸ç„¶ä¼šå‡ºç°å¼•ç”¨é“¾æ¥æ— æ³•è®¿é—®çš„æƒ…å†µã€‚</p>
</blockquote>
<h3 id="æ–°å»ºä»“åº“"><a href="#æ–°å»ºä»“åº“" class="headerlink" title="æ–°å»ºä»“åº“"></a>æ–°å»ºä»“åº“</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071409502.jpg"
                     
                ></p>
<h3 id="è®¾ç½®Tokenå¹¶åˆ†é…æƒé™"><a href="#è®¾ç½®Tokenå¹¶åˆ†é…æƒé™" class="headerlink" title="è®¾ç½®Tokenå¹¶åˆ†é…æƒé™"></a>è®¾ç½®Tokenå¹¶åˆ†é…æƒé™</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071415521.jpg"
                     
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071418036.jpg"
                     
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071418034.jpg"
                     
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071419978.jpg"
                     
                ></p>
<h2 id="PicGOè®¾ç½®"><a href="#PicGOè®¾ç½®" class="headerlink" title="PicGOè®¾ç½®"></a>PicGOè®¾ç½®</h2><h3 id="å®‰è£…PicGo"><a href="#å®‰è£…PicGo" class="headerlink" title="å®‰è£…PicGo"></a>å®‰è£…PicGo</h3><p>ä¸‹è½½å¯¹åº”çš„å®¢æˆ·ç«¯å¹¶å®‰è£…ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ macOS ç‰ˆã€‚<br>ä¸‹è½½åœ°å€ï¼š<a class="link"   href="https://github.com/Molunerfinn/PicGo/releases" >ç‚¹å‡»ä¸‹è½½PicGoå®¢æˆ·ç«¯<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071424202.jpg"
                     
                ></p>
<h3 id="è®¾ç½®Github-1"><a href="#è®¾ç½®Github-1" class="headerlink" title="è®¾ç½®Github"></a>è®¾ç½®Github</h3><p>åœ¨è®¾ç½®ä¸­å¡«å†™æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„ä»“åº“ä¿¡æ¯ï¼Œå¹¶å¡«å†™åˆšæ‰åˆ›å»ºçš„Tokenã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071429076.jpg"
                     
                ></p>
<p>è®¾ç½®å®Œæˆåï¼Œç‚¹å‡»<code>ç¡®å®š</code>ï¼Œç„¶åç‚¹å‡»<code>ä¸Šä¼ åŒº</code>ï¼Œä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œå¦‚æœä¸Šä¼ æˆåŠŸï¼Œè¯´æ˜é…ç½®æˆåŠŸã€‚</p>
<p>æ­¤æ—¶åˆ·æ–°GitHubé¡µé¢å¯ä»¥çœ‹åˆ°æ¨é€çš„å›¾ç‰‡ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071436727.jpg"
                     
                ></p>
<h2 id="Cloudflareè®¾ç½®"><a href="#Cloudflareè®¾ç½®" class="headerlink" title="Cloudflareè®¾ç½®"></a>Cloudflareè®¾ç½®</h2><h3 id="å°†AåŸŸåè§£æåˆ°Cloudflare"><a href="#å°†AåŸŸåè§£æåˆ°Cloudflare" class="headerlink" title="å°†AåŸŸåè§£æåˆ°Cloudflare"></a>å°†AåŸŸåè§£æåˆ°Cloudflare</h3><p>è¿™ä¸€æ­¥å°±çœç•¥äº†ï¼Œå¦‚æœä½ æ²¡ä½¿ç”¨è¿‡Cloudflareï¼Œè¯·çœ‹è¿™ä¸€ç‰‡åšå®¢<a href="https://blog.inik.cc/2024/04/02/a5caa24dd309.html">åŸºäºDNSè§£æåˆ†æµå®ç°CDNå›½å†…å¤–åŠ é€Ÿä¸é˜²å¾¡</a>çš„åŸŸåè§£æåˆ°Cloudflareéƒ¨åˆ†ã€‚</p>
<h3 id="æ·»åŠ ä¸€æ¡AåŸŸåçš„è§£æè®°å½•"><a href="#æ·»åŠ ä¸€æ¡AåŸŸåçš„è§£æè®°å½•" class="headerlink" title="æ·»åŠ ä¸€æ¡AåŸŸåçš„è§£æè®°å½•"></a>æ·»åŠ ä¸€æ¡AåŸŸåçš„è§£æè®°å½•</h3><p>å½“ä½œ<code>å›é€€æº</code>ç”¨äºæ¥å…¥CNAMEè§£æçš„BåŸŸå</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071453643.jpg"
                     
                ></p>
<h3 id="å°†BåŸŸåä»¥CNAMEæ–¹å¼è§£æåˆ°Cloudflare"><a href="#å°†BåŸŸåä»¥CNAMEæ–¹å¼è§£æåˆ°Cloudflare" class="headerlink" title="å°†BåŸŸåä»¥CNAMEæ–¹å¼è§£æåˆ°Cloudflare"></a>å°†BåŸŸåä»¥CNAMEæ–¹å¼è§£æåˆ°Cloudflare</h3><p>æ·»åŠ è‡ªå®šä¹‰ä¸»æœºåï¼ˆBåŸŸåï¼‰</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071443492.jpg"
                     
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071446489.jpg"
                     
                ></p>
<p>åœ¨BåŸŸåçš„DNSè®°å½•ä¸­æ·»åŠ å¦‚ä¸‹TXTè§£æè®°å½•ï¼Œæ·»åŠ åï¼Œåˆ·æ–°ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071447032.jpg"
                     
                ></p>
<p>æ¥å…¥æˆåŠŸçš„çŠ¶æ€åº”æ˜¯ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071457466.jpg"
                     
                ></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®ŒæˆAåŸŸåå’ŒBåŸŸååœ¨Cloudflareä¸Šçš„é…ç½®ã€‚</p>
<h3 id="è®¾ç½®é‡å®šå‘è§„åˆ™å®Œæˆå›½å†…å¤–åˆ†æµ"><a href="#è®¾ç½®é‡å®šå‘è§„åˆ™å®Œæˆå›½å†…å¤–åˆ†æµ" class="headerlink" title="è®¾ç½®é‡å®šå‘è§„åˆ™å®Œæˆå›½å†…å¤–åˆ†æµ"></a>è®¾ç½®é‡å®šå‘è§„åˆ™å®Œæˆå›½å†…å¤–åˆ†æµ</h3><p>åˆ›å»ºç¬¬ä¸€æ¡åˆ†æµè§„åˆ™ï¼Œæ·»åŠ å›½å†…åˆ†æµé‡å®šå‘</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071504186.jpg"
                     
                ></p>
<ul>
<li>å›½å†…åˆ†æµé‡å®šå‘è¡¨è¾¾å¼é¢„è§ˆ<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">(http.host eq &quot;cdn.inik.cc&quot; and ip.geoip.country eq &quot;CN&quot;)</span><br></pre></td></tr></table></figure></div></li>
<li>å›½å†…åˆ†æµURLé‡å®šå‘ è¡¨è¾¾å¼<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">concat(&quot;https://jsd.cdn.zzko.cn&quot;, http.request.uri.path)</span><br></pre></td></tr></table></figure></div></li>
</ul>
<p>åˆ›å»ºç¬¬äºŒæ¡åˆ†æµè§„åˆ™ï¼Œæ·»åŠ å›½é™…åˆ†æµé‡å®šå‘</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071507715.jpg"
                     
                ></p>
<ul>
<li>å›½é™…åˆ†æµé‡å®šå‘è¡¨è¾¾å¼é¢„è§ˆ<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">(http.host eq &quot;cdn.inik.cc&quot; and ip.geoip.country ne &quot;CN&quot;)</span><br></pre></td></tr></table></figure></div></li>
<li>å›½é™…åˆ†æµURLé‡å®šå‘ è¡¨è¾¾å¼<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">concat(&quot;https://cdn.jsdelivr.net&quot;, http.request.uri.path)</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="BåŸŸåè§£æè®¾ç½®"><a href="#BåŸŸåè§£æè®¾ç½®" class="headerlink" title="BåŸŸåè§£æè®¾ç½®"></a>BåŸŸåè§£æè®¾ç½®</h2><p>ä¸Šé¢æˆ‘ä»¬å®Œæˆäº† Github å’Œ Cloudflare çš„é…ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨ B åŸŸåçš„DNSè§£æä¸Šåšä¸€ä¸‹è®¾ç½®ï¼Œæ¥å®ç°DNSè§£æçš„å›½å†…å¤–åˆ†æµã€‚</p>
<blockquote>
<p>tips: è¿™é‡Œæˆ‘ä½¿ç”¨çš„é˜¿é‡Œäº‘DNSè§£æ</p>
</blockquote>
<p>æ·»åŠ ä¸€æ¡Aè§£æè®°å½•ï¼Œå¹¶æŒ‡å®š è§£æè¯·æ±‚æ¥æº<code>å¢ƒå¤–</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071524930.jpg"
                     
                ></p>
<p>æ·»åŠ ä¸€æ¡CNAMEè§£æè®°å½•ï¼Œå¹¶æŒ‡å®š è§£æè¯·æ±‚æ¥æº<code>å¢ƒå†…</code></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071526338.jpg"
                     
                ></p>
<ul>
<li><p>ä½ å¯èƒ½ä¼šå¥½å¥‡ ä¸ºä»€ä¹ˆå¢ƒå†…è§£æçš„CNAMEè§£æè®°å½•è¦æŒ‡å‘ <code>visa.cn</code>å‘¢ï¼Ÿ</p>
</li>
<li><p>è¿™æ˜¯å› ä¸º <code>visa.cn</code> æ˜¯ä¸€ä¸ªCloudflare CDN åå‘ä»£ç†çš„å…¥å£ï¼ˆå› ä¸º <code>visa</code>çš„æœåŠ¡æ¥å…¥Cloudflareæ¥æä¾›å®‰å…¨å’Œæ”»å‡»é˜²å¾¡ï¼‰ï¼Œ ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œ<code>visa.cn</code>åœ¨å¢ƒå†…æœ‰ä¸“å±çš„ç‰¹æƒæ¥è¿‡å¢ƒã€‚æ‰€ä»¥æˆ‘ç›´æ¥åœ¨<code>visa.cn</code>æ¥å…¥ï¼Œè®©å®ƒå¸®æˆ‘ä»¬æŠŠæµé‡è½¬å‘è½¬å‘åˆ°Cloudflareï¼Œæ¯”æˆ‘ä»¬ç›´è¿è¦å¿«å¾ˆå¤šå¾ˆå¤šã€‚ğŸ¶</p>
</li>
</ul>
<h2 id="ä¸´é—¨ä¸€è„š"><a href="#ä¸´é—¨ä¸€è„š" class="headerlink" title="ä¸´é—¨ä¸€è„š"></a>ä¸´é—¨ä¸€è„š</h2><p>è¿˜è®°å¾—ç¬¬äºŒæ­¥æˆ‘ä»¬é…ç½®çš„PicGOå®¢æˆ·ç«¯å—ï¼Ÿåˆ°æ­¤æˆ‘ä»¬å·²ç»æŠŠéœ€è¦ç”¨çš„åŸŸåéƒ½é…ç½®å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€åœ¨PicGOä¸­è®¾ç½®æˆ‘ä»¬çš„è‡ªå®šä¹‰é“¾æ¥ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071535646.jpg"
                     
                ></p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://cdn.inik.cc/gh/tidik/images</span><br></pre></td></tr></table></figure></div>

<p>åˆ°è¿™ä¸€æ­¥æˆ‘ä»¬å®Œæˆäº†æ‰€æœ‰çš„é…ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ä¸Šä¼ å›¾ç‰‡æµ‹è¯•è¿”å›çš„urlé“¾æ¥åº”è¯¥å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://cdn.inik.cc/gh/tidik/images/202411071535646.jpg</span><br></pre></td></tr></table></figure></div>

<h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>è¡¥å……ä¸€ä¸ªæ•´ä½“åŠ é€Ÿæµç¨‹å›¾å§ï¼ˆç®—æ˜¯å§ğŸ¶ï¼‰</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411071539149.jpg"
                     
                ></p>
]]></content>
      <tags>
        <tag>Github PicGO</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå®ç°ä¸‰å¤§ç»å…¸æ’åºç®—æ³•</title>
    <url>/2024/11/25/ddf9aae97ac9.html</url>
    <content><![CDATA[<h3 id="0x01-å‰è¨€"><a href="#0x01-å‰è¨€" class="headerlink" title="0x01 å‰è¨€"></a>0x01 å‰è¨€</h3><p>æœ€è¿‘åˆå¼€å§‹reviewä¸€ä¸‹JavaSEçš„çŸ¥è¯†ï¼Œæ‰å‘ç°ä¹‹å‰å­¦çš„ä¸‰å¤§ç»å…¸æ’åºç®—æ³•â€“å†’æ³¡æ’åºã€é€‰æ‹©æ’åºå’Œæ’å…¥æ’åº çš„å®ç°è¿˜æ˜¯æœ‰äº›è®¸çš„ä¸è¶³ï¼Œæ‰€ä»¥é‡æ–°å®ç°äº†ä¸€ä¸‹ï¼Œé¡ºä¾¿ä¹Ÿå¤ä¹ ä¸€ä¸‹JavaSEçš„çŸ¥è¯†ã€‚</p>
<h3 id="0x02-å†’æ³¡æ’åº"><a href="#0x02-å†’æ³¡æ’åº" class="headerlink" title="0x02 å†’æ³¡æ’åº"></a>0x02 å†’æ³¡æ’åº</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251627851.gif"
                     
                ></p>
<h4 id="æ’åºå…·ä½“æ­¥éª¤ï¼š"><a href="#æ’åºå…·ä½“æ­¥éª¤ï¼š" class="headerlink" title="æ’åºå…·ä½“æ­¥éª¤ï¼š"></a>æ’åºå…·ä½“æ­¥éª¤ï¼š</h4><ul>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼›</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ ä¸ºæœ€å¤§çš„æ•°ï¼›</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª(å¦‚æœç¬¬Nè½®ï¼Œåˆ™ä¸ºå€’æ•°Nä¸ª)ï¼›</li>
<li>é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚</li>
</ul>
<h4 id="å…·ä½“æµç¨‹å›¾ï¼š"><a href="#å…·ä½“æµç¨‹å›¾ï¼š" class="headerlink" title="å…·ä½“æµç¨‹å›¾ï¼š"></a>å…·ä½“æµç¨‹å›¾ï¼š</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251556382.png"
                     
                ></p>
<h4 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>... arr)</span>&#123;</span><br><span class="line">    <span class="type">boolean</span> exchange_flag; <span class="comment">//ç”¨äºåˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº¤æ¢</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;arr.length-<span class="number">1</span>;j++)&#123; <span class="comment">//æ§åˆ¶ç¬¬å‡ è½®å¾ªç¯</span></span><br><span class="line">        exchange_flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>-j;i++)&#123; <span class="comment">//éå†æ¯”è¾ƒ</span></span><br><span class="line">            <span class="comment">//å¦‚æœå‰ä¸€ä¸ªæ¯”åä¸€ä¸ªå¤§åˆ™äº’æ¢ä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span>(arr[i]&gt;arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="comment">//äº¤æ¢ä¸¤ä¸ªå…ƒç´ </span></span><br><span class="line">                <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">                arr[i] = arr[i+<span class="number">1</span>];</span><br><span class="line">                arr[i+<span class="number">1</span>] = temp;</span><br><span class="line">                exchange_flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœæœªå‘ç”Ÿäº¤æ¢åˆ™è·³å‡ºå¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span>(!exchange_flag)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><ul>
<li>æœ€å¥½æƒ…å†µï¼šå¦‚æœå¾…æ’åºçš„æ•°ç»„å·²ç»æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆåªéœ€è¦è¿›è¡Œä¸€æ¬¡éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼›</li>
<li>æœ€åæƒ…å†µï¼šå¦‚æœå¾…æ’åºçš„æ•°ç»„æ˜¯é€†åºçš„ï¼Œé‚£ä¹ˆéœ€è¦n-1è½®éå†ï¼Œæ¯ä¸€è½®éå†éœ€è¦æ¯”è¾ƒn-iæ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼›</li>
</ul>
<h3 id="0x03-é€‰æ‹©æ’åº"><a href="#0x03-é€‰æ‹©æ’åº" class="headerlink" title="0x03 é€‰æ‹©æ’åº"></a>0x03 é€‰æ‹©æ’åº</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251642780.gif"
                     
                ></p>
<h4 id="æ’åºå…·ä½“æ­¥éª¤ï¼š-1"><a href="#æ’åºå…·ä½“æ­¥éª¤ï¼š-1" class="headerlink" title="æ’åºå…·ä½“æ­¥éª¤ï¼š"></a>æ’åºå…·ä½“æ­¥éª¤ï¼š</h4><ul>
<li>ä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè®¤ä¸ºå½“å‰å…ƒç´ æ˜¯æœ€å°å€¼ã€‚</li>
<li>åœ¨å½“å‰å…ƒç´ ä¹‹åçš„æœªæ’åºéƒ¨åˆ†ä¸­ï¼Œé€ä¸ªæ¯”è¾ƒï¼Œå¯»æ‰¾æœ€å°å€¼ã€‚<br>å¦‚æœæ‰¾åˆ°æ¯”å½“å‰æœ€å°å€¼æ›´å°çš„å…ƒç´ ï¼Œæ›´æ–°æœ€å°å€¼çš„ç´¢å¼•ã€‚</li>
<li>å°†æ‰¾åˆ°çš„æœ€å°å€¼ä¸å½“å‰å…ƒç´ äº¤æ¢ä½ç½®ã€‚</li>
<li>ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œé‡å¤æ­¥éª¤ä»¥ä¸Šæ­¥éª¤ã€‚</li>
</ul>
<h4 id="å…·ä½“æµç¨‹å›¾ï¼š-1"><a href="#å…·ä½“æµç¨‹å›¾ï¼š-1" class="headerlink" title="å…·ä½“æµç¨‹å›¾ï¼š"></a>å…·ä½“æµç¨‹å›¾ï¼š</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251643241.png"
                     
                ></p>
<h4 id="ä»£ç å®ç°ï¼š-1"><a href="#ä»£ç å®ç°ï¼š-1" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">selectSort</span><span class="params">(<span class="type">int</span>... arr)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="comment">//é»˜è®¤å½“å‰ä¸ºæœ€å°çš„å…ƒç´ </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minIndex</span> <span class="operator">=</span> i; </span><br><span class="line">        <span class="comment">//ä»i+1ï¼Œå¾€åæ‰¾æœ€å°çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;arr.length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;arr[minIndex])&#123;</span><br><span class="line">                <span class="comment">//å‘ç°æ›´å°çš„åˆ™æ›´æ–°æœ€å°å€¼ç´¢å¼•</span></span><br><span class="line">                minIndex = j; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢æœ€å°å…ƒç´ å’Œå½“å‰å…ƒç´ </span></span><br><span class="line">        <span class="keyword">if</span>(minIndex!=i)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">            arr[i] = arr[minIndex];</span><br><span class="line">            arr[minIndex] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-1"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-1" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><ul>
<li>æœ€å¥½æƒ…å†µï¼šO(n^2)ï¼›</li>
<li>æœ€åæƒ…å†µï¼šO(n^2)ï¼›</li>
</ul>
<h3 id="0x04-æ’å…¥æ’åº"><a href="#0x04-æ’å…¥æ’åº" class="headerlink" title="0x04 æ’å…¥æ’åº"></a>0x04 æ’å…¥æ’åº</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251657233.gif"
                     
                ></p>
<h4 id="æ’åºå…·ä½“æ­¥éª¤ï¼š-2"><a href="#æ’åºå…·ä½“æ­¥éª¤ï¼š-2" class="headerlink" title="æ’åºå…·ä½“æ­¥éª¤ï¼š"></a>æ’åºå…·ä½“æ­¥éª¤ï¼š</h4><ul>
<li>åˆå§‹å‡è®¾ï¼šå°†ç¬¬ä¸€ä¸ªå…ƒç´ è§†ä¸ºå·²ç»æ’åºçš„éƒ¨åˆ†ã€‚<br>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼š</li>
<li>ä¾æ¬¡å–å‡ºæœªæ’åºéƒ¨åˆ†çš„å…ƒç´ ï¼Œä¸å·²æ’åºéƒ¨åˆ†ä»åå‘å‰æ¯”è¾ƒã€‚<br>æ‰¾åˆ°é€‚å½“ä½ç½®åï¼Œå°†è¯¥å…ƒç´ æ’å…¥ã€‚</li>
<li>é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½æ’å…¥å®Œæˆã€‚</li>
</ul>
<h4 id="å…·ä½“æµç¨‹å›¾ï¼š-2"><a href="#å…·ä½“æµç¨‹å›¾ï¼š-2" class="headerlink" title="å…·ä½“æµç¨‹å›¾ï¼š"></a>å…·ä½“æµç¨‹å›¾ï¼š</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/202411251659383.png"
                     
                ></p>
<h4 id="ä»£ç å®ç°ï¼š-2"><a href="#ä»£ç å®ç°ï¼š-2" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertSort</span><span class="params">(<span class="type">int</span>... arr)</span>&#123;</span><br><span class="line">    <span class="comment">//ä»ç´¢å¼•1å¼€å§‹ï¼Œå¹¶å°†ç´¢å¼•1è§†ä¸ºå·²ç»æ’åº</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="comment">//å°†å½“å‰å…ƒç´ æå–å‡ºæ¥</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> arr[i]; </span><br><span class="line">        <span class="comment">//æŒ‡å®šå½“å‰å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">preIndex</span> <span class="operator">=</span> i-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦å°äºå‰ä¸€ä¸ªå…ƒç´ ä¸”æ˜¯å¦å­˜åœ¨ä¸‹æ ‡è¶Šç•Œ</span></span><br><span class="line">        <span class="keyword">while</span>(preIndex&gt;=<span class="number">0</span> &amp;&amp; arr[preIndex]&gt;current)&#123;</span><br><span class="line">            <span class="comment">//å¦‚æœå½“å‰å…ƒç´ å°äºå‰ä¸€ä¸ªï¼Œåˆ™å°†å‰ä¸€ä¸ªå…ƒç´ åç§»</span></span><br><span class="line">            arr[preIndex+<span class="number">1</span>] = arr[preIndex];</span><br><span class="line">            <span class="comment">//æŒ‡é’ˆä»åå¾€å‰ç§»åŠ¨</span></span><br><span class="line">            preIndex--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœå½“å‰å…ƒç´ æ¯”å‰ä¸€ä¸ªå¤§ï¼Œåˆ™å°†å½“å‰å…ƒç´ æ’å…¥åˆ°å‰ä¸€ä¸ªå…ƒç´ åé¢</span></span><br><span class="line">        arr[preIndex+<span class="number">1</span>] = current;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-2"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š-2" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><ul>
<li>æœ€å¥½æƒ…å†µï¼ˆæ•°ç»„å·²ç»æœ‰åºï¼‰ï¼šæ¯è½®åªéœ€æ¯”è¾ƒä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2);</li>
<li>æœ€åæƒ…å†µï¼ˆæ•°ç»„é€†åºï¼‰ï¼šæ¯è½®éœ€è¦æ¯”è¾ƒå¹¶ç§»åŠ¨æ‰€æœ‰å·²æ’åºå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼›</li>
<li>å¹³å‡æƒ…å†µï¼šO(n^2)</li>
</ul>
]]></content>
      <tags>
        <tag>Java æ’åºç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>macOSä¸‹é…ç½®Github &amp; Gitee</title>
    <url>/2025/02/04/ae020f00c94a.html</url>
    <content><![CDATA[<h2 id="0x01-å®‰è£…Git"><a href="#0x01-å®‰è£…Git" class="headerlink" title="0x01 å®‰è£…Git"></a>0x01 å®‰è£…Git</h2><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">brew install git</span><br></pre></td></tr></table></figure></div>
<h2 id="0x02-ç”Ÿæˆå¯†é’¥å¯¹"><a href="#0x02-ç”Ÿæˆå¯†é’¥å¯¹" class="headerlink" title="0x02 ç”Ÿæˆå¯†é’¥å¯¹"></a>0x02 ç”Ÿæˆå¯†é’¥å¯¹</h2><h3 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@example.com&quot;</span> -f ~/.ssh/id_rsa_github</span><br></pre></td></tr></table></figure></div>
<h3 id="Gitee"><a href="#Gitee" class="headerlink" title="Gitee"></a>Gitee</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@example.com&quot;</span> -f ~/.ssh/id_rsa_gitee</span><br></pre></td></tr></table></figure></div>

<h2 id="æŸ¥çœ‹ç”Ÿæˆå…¬é’¥"><a href="#æŸ¥çœ‹ç”Ÿæˆå…¬é’¥" class="headerlink" title="æŸ¥çœ‹ç”Ÿæˆå…¬é’¥"></a>æŸ¥çœ‹ç”Ÿæˆå…¬é’¥</h2><h3 id="Github-1"><a href="#Github-1" class="headerlink" title="Github"></a>Github</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa_github.pub</span><br></pre></td></tr></table></figure></div>
<h3 id="Gitee-1"><a href="#Gitee-1" class="headerlink" title="Gitee"></a>Gitee</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa_gitee.pub</span><br></pre></td></tr></table></figure></div>

<h2 id="é…ç½®GitHub-Giteeå…¬é’¥"><a href="#é…ç½®GitHub-Giteeå…¬é’¥" class="headerlink" title="é…ç½®GitHub &amp; Giteeå…¬é’¥"></a>é…ç½®GitHub &amp; Giteeå…¬é’¥</h2><h3 id="Github-2"><a href="#Github-2" class="headerlink" title="Github"></a>Github</h3><ul>
<li>ç™»å½•åˆ° GitHubï¼Œè¿›å…¥ Settings -&gt; SSH and GPG keys -&gt; New SSH keyï¼Œå°†å…¬é’¥ç²˜è´´è¿›å»å¹¶ä¿å­˜ã€‚</li>
</ul>
<h3 id="Gitee-2"><a href="#Gitee-2" class="headerlink" title="Gitee"></a>Gitee</h3><ul>
<li>ç™»å½•åˆ° Giteeï¼Œè¿›å…¥ ä¸ªäººè®¾ç½® -&gt; SSH å…¬é’¥ -&gt; æ·»åŠ å…¬é’¥ï¼Œå°†å…¬é’¥ç²˜è´´è¿›å»å¹¶ä¿å­˜ã€‚</li>
</ul>
<h2 id="é…ç½®æœ¬åœ°SSHæ–‡ä»¶"><a href="#é…ç½®æœ¬åœ°SSHæ–‡ä»¶" class="headerlink" title="é…ç½®æœ¬åœ°SSHæ–‡ä»¶"></a>é…ç½®æœ¬åœ°SSHæ–‡ä»¶</h2><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure></div>

<p>æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># GitHub é…ç½®</span></span><br><span class="line">Host github.com</span><br><span class="line"> 	HostName github.com</span><br><span class="line"> 	User git</span><br><span class="line"> 	IdentityFile ~/.ssh/id_rsa_github</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gitee é…ç½®</span></span><br><span class="line">Host gitee.com</span><br><span class="line"> 	HostName gitee.com</span><br><span class="line"> 	User git</span><br><span class="line"> 	IdentityFile ~/.ssh/id_rsa_gitee</span><br></pre></td></tr></table></figure></div>

<h2 id="æµ‹è¯•è¿æ¥"><a href="#æµ‹è¯•è¿æ¥" class="headerlink" title="æµ‹è¯•è¿æ¥"></a>æµ‹è¯•è¿æ¥</h2><h3 id="æµ‹è¯•Githubè¿æ¥"><a href="#æµ‹è¯•Githubè¿æ¥" class="headerlink" title="æµ‹è¯•Githubè¿æ¥"></a>æµ‹è¯•Githubè¿æ¥</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></div>

<p>å¦‚æœæˆåŠŸå°†çœ‹åˆ°ä»¥ä¸‹æç¤ºä¿¡æ¯</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hi ä½ çš„ç”¨æˆ·å! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure></div>

<h3 id="æµ‹è¯•Giteeè¿æ¥"><a href="#æµ‹è¯•Giteeè¿æ¥" class="headerlink" title="æµ‹è¯•Giteeè¿æ¥"></a>æµ‹è¯•Giteeè¿æ¥</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure></div>

<p>å¦‚æœæˆåŠŸå°†çœ‹åˆ°ä»¥ä¸‹æç¤ºä¿¡æ¯</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hi ä½ çš„ç”¨æˆ·å! You&#x27;ve successfully authenticated, but Gitee does not provide shell access.</span><br></pre></td></tr></table></figure></div>

<h2 id="æµ‹è¯•ä»“åº“å…‹éš†"><a href="#æµ‹è¯•ä»“åº“å…‹éš†" class="headerlink" title="æµ‹è¯•ä»“åº“å…‹éš†"></a>æµ‹è¯•ä»“åº“å…‹éš†</h2><h3 id="Github-3"><a href="#Github-3" class="headerlink" title="Github"></a>Github</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:username/repository.git</span><br></pre></td></tr></table></figure></div>

<h3 id="Gitee-3"><a href="#Gitee-3" class="headerlink" title="Gitee"></a>Gitee</h3><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@gitee.com:username/repository.git</span><br></pre></td></tr></table></figure></div>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.inik.cc/gh/tidik/images/1*SSRjtoQ0H2X3SBPOiJ5rZw.webp"
                     
                ></p>
]]></content>
      <tags>
        <tag>Github</tag>
      </tags>
  </entry>
</search>
